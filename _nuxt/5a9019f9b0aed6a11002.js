(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{186:function(e,t,n){"use strict";function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n.d(t,"a",function(){return r})},187:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c});n(112);var o=n(6);n(75);function r(e){return e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"G":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e}function l(e){"object"!==Object(o.a)(e)&&(e=new Date(e));var t,n=Math.floor((+new Date-+e)/1e3),r=Math.floor(n/31536e3);return r>=1?t="year":(r=Math.floor(n/2592e3))>=1?t="month":(r=Math.floor(n/86400))>=1?t="day":(r=Math.floor(n/3600))>=1?t="hour":(r=Math.floor(n/60))>=1?t="minute":(r=n,t="second"),(r>1||0===r)&&(t+="s"),r+" "+t}function c(e,t,n){return e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n)}},189:function(e,t,n){var content=n(200);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(23).default)("c616123a",content,!0,{sourceMap:!1})},190:function(e,t,n){var content=n(202);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(23).default)("5c98055f",content,!0,{sourceMap:!1})},191:function(e,t,n){var content=n(209);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(23).default)("31feab04",content,!0,{sourceMap:!1})},192:function(e,t,n){var content=n(211);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(23).default)("7196439a",content,!0,{sourceMap:!1})},197:function(e,t,n){e.exports=n.p+"img/034b164.svg"},198:function(e,t,n){e.exports=n.p+"img/0db5626.svg"},199:function(e,t,n){"use strict";var o=n(189);n.n(o).a},200:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,".item[data-v-7c0d5f6d]{border-radius:4px;padding:4px;background-color:#333;margin:1em;border-left:1px solid #ddd;display:flex;flex-direction:row;align-items:flex-start}.domain[data-v-7c0d5f6d]{opacity:.6}.item-title[data-v-7c0d5f6d]{display:block}.item-meta[data-v-7c0d5f6d]{color:#999}.item-info[data-v-7c0d5f6d]{vertical-align:top;margin-left:.5em}.item-thumb-container[data-v-7c0d5f6d]{height:80px;width:80px;min-width:80px;background-color:hsla(0,0%,48.2%,.2)}.item-thumb[data-v-7c0d5f6d]{width:80px;height:80px;-o-object-fit:cover;object-fit:cover}.stats[data-v-7c0d5f6d]{opacity:.6}.list-enter-active[data-v-7c0d5f6d],.list-leave-active[data-v-7c0d5f6d]{transition:all 1s;transition-delay:calc(var(--animation-order)*50ms)}.list-enter[data-v-7c0d5f6d],.list-leave-to[data-v-7c0d5f6d]{opacity:0;transform:translateY(30px);transition-delay:calc(var(--animation-order)*50ms)}",""])},201:function(e,t,n){"use strict";var o=n(190);n.n(o).a},202:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,".item[data-v-0caa82d2]{border-radius:4px;padding:4px;background-color:#333;margin:1em;border-left:1px solid #ddd;display:flex;flex-direction:row;align-items:flex-start}.domain[data-v-0caa82d2]{opacity:.6}.item-title[data-v-0caa82d2]{display:block}.item-meta[data-v-0caa82d2]{color:#999}.item-info[data-v-0caa82d2]{vertical-align:top;margin-left:.5em}.item-thumb-container[data-v-0caa82d2]{height:80px;width:80px;min-width:80px;background-color:hsla(0,0%,48.2%,.2)}.item-thumb[data-v-0caa82d2]{width:80px;height:80px;-o-object-fit:cover;object-fit:cover}.stats[data-v-0caa82d2]{opacity:.6}table[data-v-0caa82d2]{border-collapse:collapse;margin-bottom:10px;width:100%}td[data-v-0caa82d2],th[data-v-0caa82d2]{padding:6px;text-align:left}th[data-v-0caa82d2]{border-bottom:1px solid #333}tbody tr[data-v-0caa82d2]:nth-child(odd){background-color:#1a1a1a}",""])},203:function(e,t,n){"use strict";var o=n(3),r=n(19),l=n(26),c=n(113),d=n(61),h=n(12),m=n(62).f,f=n(77).f,v=n(13).f,y=n(204).trim,_=o.Number,w=_,x=_.prototype,k="Number"==l(n(76)(x)),j="trim"in String.prototype,C=function(e){var t=d(e,!1);if("string"==typeof t&&t.length>2){var n,o,r,l=(t=j?t.trim():y(t,3)).charCodeAt(0);if(43===l||45===l){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===l){switch(t.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+t}for(var code,c=t.slice(2),i=0,h=c.length;i<h;i++)if((code=c.charCodeAt(i))<48||code>r)return NaN;return parseInt(c,o)}}return+t};if(!_(" 0o1")||!_("0b1")||_("+0x1")){_=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof _&&(k?h(function(){x.valueOf.call(n)}):"Number"!=l(n))?c(new w(C(t)),n,_):C(t)};for(var O,S=n(7)?m(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;S.length>T;T++)r(w,O=S[T])&&!r(_,O)&&v(_,O,f(w,O));_.prototype=x,x.constructor=_,n(15)(o,"Number",_)}},204:function(e,t,n){var o=n(9),r=n(25),l=n(12),c=n(205),d="["+c+"]",h=RegExp("^"+d+d+"*"),m=RegExp(d+d+"*$"),f=function(e,t,n){var r={},d=l(function(){return!!c[e]()||"‚Äã¬Ö"!="‚Äã¬Ö"[e]()}),h=r[e]=d?t(v):c[e];n&&(r[n]=h),o(o.P+o.F*d,"String",r)},v=f.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(h,"")),2&t&&(e=e.replace(m,"")),e};e.exports=f},205:function(e,t){e.exports="\t\n\v\f\r ¬†·öÄ·†é‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff"},206:function(e,t,n){var o=n(9);o(o.S,"Number",{isInteger:n(207)})},207:function(e,t,n){var o=n(14),r=Math.floor;e.exports=function(e){return!o(e)&&isFinite(e)&&r(e)===e}},208:function(e,t,n){"use strict";var o=n(191);n.n(o).a},209:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,".domain[data-v-a2b25372]{opacity:.6}.item-title[data-v-a2b25372]{display:block}.item-meta[data-v-a2b25372]{color:#fff}.item-info[data-v-a2b25372]{vertical-align:top;margin-left:.5em}.item-thumb-container[data-v-a2b25372]{height:80px;width:80px;min-width:80px;background-color:hsla(0,0%,48.2%,.2)}.item-thumb[data-v-a2b25372]{width:80px;height:80px;-o-object-fit:cover;object-fit:cover}.stats[data-v-a2b25372]{opacity:.6}.slideshow[data-v-a2b25372]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000}.slide-controls[data-v-a2b25372]{position:absolute;background-color:rgba(0,0,0,.5);color:#fff;z-index:1}.slideshow-image[data-v-a2b25372],.slideshow-video[data-v-a2b25372]{display:block;margin:auto;-o-object-fit:contain;object-fit:contain;height:100%;width:100%}.slideshow-thumb[data-v-a2b25372]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;position:fixed;top:0;left:0;z-index:-1;-webkit-filter:blur(20px);filter:blur(20px)}.slideshow-typography[data-v-a2b25372]{font-size:3em;display:flex;justify-content:center;align-items:center;height:100%;text-align:center;width:100%;padding:1em;box-sizing:border-box}.fade-enter-active[data-v-a2b25372],.fade-leave-active[data-v-a2b25372]{transition:opacity .5s}.fade-enter[data-v-a2b25372],.fade-leave[data-v-a2b25372]{opacity:0}",""])},210:function(e,t,n){"use strict";var o=n(192);n.n(o).a},211:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,".query-input[data-v-4a50093d]{width:100%;box-sizing:border-box}.error[data-v-4a50093d]{color:red}hr[data-v-4a50093d]{border:none;border-top:1px solid #333}.query-controls label[data-v-4a50093d]{margin-right:.5em}.spinner[data-v-4a50093d]{width:100px}.stats[data-v-4a50093d]{color:#999}",""])},218:function(e,t,n){"use strict";n.r(t);n(60);var o=n(8),r=n(39),l=n(186),c=n(41),d=n(40),h=n(42),m=n(6),f=n(24),v=n(187),y=function(e,t,n,desc){var o,r=arguments.length,l=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(r<3?o(l):r>3?o(t,n,l):o(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l},_=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),t}(f.Vue),w=_=y([Object(f.Component)({props:{results:Array,options:Object},methods:{compactNumber:v.a,timeSince:v.c}})],_),x=(n(199),n(11)),k=Object(x.a)(w,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("transition-group",{attrs:{name:"list",tag:"div"}},e._l(e.results,function(t,r){return o("div",{key:r,staticClass:"item",style:"--animation-order:"+r},[e.options.noThumbnails?e._e():o("a",{staticClass:"item-thumb-container",attrs:{href:t.url}},[t.thumbnail_url?o("img",{staticClass:"item-thumb",attrs:{src:t.thumbnail_url,onerror:"this.style.display='none'"}}):e._e(),e._v(" "),t.thumbnail_url?e._e():o("img",{staticClass:"item-thumb",attrs:{src:n(198)}})]),e._v(" "),o("div",{staticClass:"item-info"},[o("a",{staticClass:"item-title",attrs:{href:t.url}},[e._v(e._s(t.title))]),e._v(" "),o("div",{staticClass:"item-meta"},[t.likes?o("span",{staticClass:"like-count"},[e._v(e._s(e.compactNumber(t.likes))+"‚¨Ü")]):e._e(),e._v(" "),t.views?o("span",{staticClass:"view-count"},[e._v(e._s(e.compactNumber(t.views))+"üëÅ")]):e._e(),e._v(" "),o("span",{staticClass:"domain",attrs:{title:t.timestamp}},[e._v("\n            / "+e._s(t.domain)+"\n            "),t.channel&&t.channel!==t.user?[e._v("\n              / "+e._s(t.channel)+"\n              / "+e._s(t.user)+"\n            ")]:[e._v("/ "+e._s(t.user))],e._v("\n            / "+e._s(e.timeSince(t.timestamp))+" ago\n          ")],2)])])])}),0)],1)},[],!1,null,"7c0d5f6d",null).exports,j=(n(43),n(20),n(80),function(e,t,n,desc){var o,r=arguments.length,l=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(r<3?o(l):r>3?o(t,n,l):o(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l}),C=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"truncate",value:function(e){var text=String(e);return text.length>100&&(text=text.slice(0,100)+" [...]"),text}},{key:"sortedKeys",value:function(){var e=Object.keys(this.$props.results[0]);return e.sort(),e=e.filter(function(e){return"audio_url"!==e&&"is_collection"!==e})}}]),t}(f.Vue),O=C=j([Object(f.Component)({props:{results:Array,options:Object},methods:{compactNumber:v.a,timeSince:v.c}})],C),S=(n(201),Object(x.a)(O,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"query-results-table"},[n("thead",{staticClass:"table-header"},[n("tr",e._l(e.sortedKeys(),function(t){return n("th",{key:t},[e._v(e._s(t))])}),0)]),e._v(" "),n("tbody",e._l(e.results,function(t,o){return n("tr",{key:o,staticClass:"item-row"},e._l(e.sortedKeys(),function(r){return n("td",{key:o+"-"+r,staticClass:"item-cell",attrs:{title:t[r]}},[e._v("\n        "+e._s(e.truncate(t[r]))+"\n      ")])}),0)}),0)])},[],!1,null,"0caa82d2",null).exports),T=(n(203),n(206),n(78),n(79),function(e,t,n,desc){var o,r=arguments.length,l=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(r<3?o(l):r>3?o(t,n,l):o(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l}),N=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onMuteChange",value:function(e,t){this.$el.muted=e}},{key:"mounted",value:function(){var e=this,t=this.$el;t.muted=this.mute;var n=!1;t.addEventListener("timeupdate",function(o){t.currentTime<.1&&!n&&(n=!0,e.onEnded(o),1,setTimeout(function(){n=!1},500))},!0)}}]),t}(f.Vue);T([Object(f.Prop)(Boolean)],N.prototype,"mute",void 0),T([Object(f.Prop)(String)],N.prototype,"videoUrl",void 0),T([Object(f.Prop)(Function)],N.prototype,"onEnded",void 0),T([Object(f.Watch)("mute")],N.prototype,"onMuteChange",null);var E=N=T([Object(f.Component)({methods:{}})],N),F=Object(x.a)(E,function(){var e=this.$createElement,t=this._self._c||e;return t("video",{attrs:{autoplay:"",playsinline:"",loop:"",controls:"",poster:"true"}},[t("source",{attrs:{src:this.videoUrl}})])},[],!1,null,"7d97c8a1",null).exports,P=function(e,t,n,desc){var o,r=arguments.length,l=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(r<3?o(l):r>3?o(t,n,l):o(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l},R=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).apply(this,arguments))).currentSlide=0,e.minControls=!1,e.mute=!0,e.autoPlay=!0,e.nextSlideTimeoutId=-1,e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"closeSlideshow",value:function(){console.log("Tryin to close"),this.$emit("close-slideshow")}},{key:"isVideoSlide",value:function(){return!!this.item.video_url}},{key:"verifyAutoPlayTimer",value:function(){this.nextSlideTimeoutId>0&&(clearTimeout(this.nextSlideTimeoutId),this.nextSlideTimeoutId=-1),this.autoPlay&&!this.isVideoSlide()&&(this.nextSlideTimeoutId=window.setTimeout(this.nextSlide,5e3))}},{key:"eventToggleFullScreen",value:function(e){var t;t=document.body,console.log("toggle fscreen"),function(){var e=window.document;return e.fullscreenElement&&null!==e.fullscreenElement||e.webkitFullscreenElement&&null!==e.webkitFullscreenElement||e.mozFullScreenElement&&null!==e.mozFullScreenElement||e.msFullscreenElement&&null!==e.msFullscreenElement}()?(console.log("exit fscreen"),function(){var e=window.document;e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen()}()):(console.log("enter fscreen"),function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():console.warn("Did not find request full screen method",e)}(t||document.body))}},{key:"nextSlide",value:function(){this.setCurrentSlide(this.currentSlide+1)}},{key:"prevSlide",value:function(){this.setCurrentSlide(this.currentSlide-1)}},{key:"setCurrentSlide",value:function(e){this.currentSlide=A(e,this.results.length),this.verifyAutoPlayTimer();var t=A(this.currentSlide+1,this.results.length),n=this.results[t].image_url;n&&document.createElement("img").setAttribute("src",n)}},{key:"handleKeyUp",value:function(e){var t=function(e){var output;output=e.code.includes("Numpad")||e.code.includes("Shift")||e.code.includes("Space")||e.code.includes("Backspace")||e.code.includes("Control")||e.code.includes("Alt")||e.code.includes("Meta")?e.code:e.key;(output!==output.toUpperCase()||"F"===e.code[0]&&Number.isInteger(Number(e.code[1]))&&e.code.length<=3)&&(output=output.toLowerCase());return output}(e);switch(t){case"arrowleft":this.prevSlide();break;case"arrowright":case"enter":this.nextSlide();break;case"pagedown":this.setCurrentSlide(this.currentSlide+10);break;case"pageup":this.setCurrentSlide(this.currentSlide-10);break;case"home":this.setCurrentSlide(0);break;case"end":this.setCurrentSlide(-1);break;case"escape":this.closeSlideshow()}console.log("key",t)}},{key:"toggleMute",value:function(){this.mute=!this.mute}},{key:"toggleAutoPlay",value:function(){this.autoPlay=!this.autoPlay,this.verifyAutoPlayTimer()}},{key:"videoEnded",value:function(e){console.log("Vidended",e),this.autoPlay&&this.nextSlide()}},{key:"created",value:function(){console.log("Slideshow create",this.$data),document.addEventListener(I,this.handleKeyUp);var e=document.activeElement;e&&e.blur(),this.setCurrentSlide(0)}},{key:"destroyed",value:function(){document.removeEventListener(I,this.handleKeyUp),console.log("Slideshow destroy")}},{key:"item",get:function(){return this.results?this.results[this.currentSlide]:null}}]),t}(f.Vue);P([Object(f.Prop)(Array)],R.prototype,"results",void 0),P([Object(f.Prop)(Object)],R.prototype,"options",void 0),R=P([Object(f.Component)({methods:{compactNumber:v.a,timeSince:v.c},components:{Video:F}})],R);var I="keydown";function A(a,b){return(a%b+b)%b}var $=R,M=(n(208),Object(x.a)($,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item?n("div",{staticClass:"slideshow"},[n("div",{staticClass:"slide-controls"},[e.minControls?e._e():n("span",[n("button",{attrs:{title:"close and edit query"},on:{click:e.closeSlideshow}},[e._v("x")]),e._v(" "),n("button",{attrs:{title:"previous"},on:{click:e.prevSlide}},[e._v("‚¨Ö")]),e._v(" "),n("button",{staticClass:"current-slide",attrs:{disabled:""}},[e._v(e._s(e.currentSlide))]),e._v(" "),n("button",{attrs:{title:"next"},on:{click:e.nextSlide}},[e._v("‚û°")]),e._v(" "),n("button",{attrs:{title:"mute"},on:{click:e.toggleMute}},[e._v(e._s(e.mute?"üîá":"üîä"))]),e._v(" "),n("button",{attrs:{title:"pause/play"},on:{click:e.toggleAutoPlay}},[e._v(e._s(e.autoPlay?"‚è∏":"‚ñ∂Ô∏è"))]),e._v(" "),n("button",{attrs:{title:"full screen"},on:{click:e.eventToggleFullScreen}},[e._v("üçÑ")])]),e._v(" "),n("button",{staticClass:"minimizer",attrs:{title:"hide controls"},on:{click:function(t){e.minControls=!e.minControls}}},[e._v(e._s(e.minControls?"‚ûï":"‚ûñ"))]),e._v(" "),e.minControls?e._e():n("div",{staticClass:"item-info"},[n("a",{staticClass:"item-title",attrs:{href:e.item.url}},[e._v(e._s(e.item.title))]),e._v(" "),n("div",{staticClass:"item-meta"},[e.item.likes?n("span",{staticClass:"like-count",attrs:{title:e.item.dislikes?e.item.dislikes+"‚¨á":""}},[e._v(e._s(e.compactNumber(e.item.likes))+"‚¨Ü")]):e._e(),e._v(" "),e.item.views?n("span",{staticClass:"view-count"},[e._v(e._s(e.compactNumber(e.item.views))+"üëÅ")]):e._e(),e._v(" "),n("span",{staticClass:"domain",attrs:{title:e.item.timestamp}},[e._v("\n          / "+e._s(e.item.domain)+"\n          "),e.item.channel&&e.item.channel!==e.item.user?[e._v("\n            / "+e._s(e.item.channel)+"\n            / "+e._s(e.item.user)+"\n          ")]:[e._v("/ "+e._s(e.item.user))],e._v("\n          / "+e._s(e.timeSince(e.item.timestamp))+" ago\n        ")],2)])])]),e._v(" "),e.item.video_url?n("Video",{key:e.item.video_url,staticClass:"slideshow-video",attrs:{autoplay:"",playsinline:"",loop:"",controls:"",poster:"true",mute:e.mute,"video-url":e.item.video_url,"on-ended":e.videoEnded}}):e._e(),e._v(" "),e.item.image_url?n("img",{key:e.item.image_url,staticClass:"slideshow-image",attrs:{src:e.item.image_url,onerror:"this.style.display='none'"}}):e._e(),e._v(" "),e.item.thumbnail_url?n("img",{staticClass:"slideshow-thumb",attrs:{src:e.item.thumbnail_url,onerror:"this.style.display='none'"}}):e._e(),e._v(" "),e.item.thumbnail_url||e.item.image_url||e.item.video_url?e._e():n("div",{staticClass:"slideshow-typography"},[e._v("\n    "+e._s(e.item.title)+"\n  ")])],1):e._e()},[],!1,null,"a2b25372",null).exports),D=n(81),V=n.n(D),z=function(e,t,n,desc){var o,r=arguments.length,l=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(r<3?o(l):r>3?o(t,n,l):o(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l};var Q={noThumbnails:"!nothumbs",showTable:"!table",slideShow:"!slideshow"},U=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).apply(this,arguments))).query="",e.results=null,e.error="",e.queryDuration=null,e.options={noThumbnails:!1,ui:"cards"},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"fetch",value:function(e){console.log("fetch",e)}},{key:"asyncData",value:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.route.query.q,console.log("AsyncData",n),e.abrupt("return",{query:n});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return!0}},{key:"beforeUpdate",value:function(){console.log("beforeUpdate")}},{key:"setOptionsFromQuery",value:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Setting options from query"),this.query.indexOf(Q.noThumbnails)>=0?this.options.noThumbnails=!0:this.options.noThumbnails=!1,this.query.indexOf(Q.showTable)>=0&&(this.options.ui="table"),this.query.indexOf(Q.slideShow)>=0&&(this.options.ui="slideshow");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchQueryData",value:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var t,n,o,r,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t=this.query,Q)o=Q[n],t.indexOf(o)>=0&&(t=Object(v.b)(t,o,""));return r={validateStatus:function(e){return!0}},l=performance.now(),e.prev=4,e.next=7,V.a.get("https://us-east1-ubershmekel.cloudfunctions.net/tags3-api?q="+encodeURI(t),r);case 7:c=e.sent,this.queryDuration=performance.now()-l,console.log("query res",c),c.data.error?this.error=c.data.error:this.results=c.data,e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),console.error("Failed to fetch query",e.t0),e.t0&&e.t0.message?this.error=e.t0.message:this.error=""+e.t0,e.abrupt("return");case 18:case"end":return e.stop()}},e,this,[[4,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"created",value:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("created"),this.query=this.$route.query.q,console.log("This query created",this.query),this.setOptionsFromQuery(),this.fetchQueryData();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"watchCommandProp",value:function(e,t){var n=this.query.indexOf(t)>=0;e&&!n&&(this.query=this.query+" "+t),!e&&n&&(this.query=Object(v.b)(this.query," "+t,""))}},{key:"onNoThumbnailsChanged",value:function(e,t){this.watchCommandProp(e,Q.noThumbnails)}},{key:"onShowTableChanged",value:function(e,t){this.watchCommandProp(!1,Q.showTable),this.watchCommandProp(!1,Q.slideShow),"table"===e&&this.watchCommandProp(!0,Q.showTable),"slideshow"===e&&this.watchCommandProp(!0,Q.slideShow);var n=this.$router.resolve({path:this.$route.path,query:{q:this.query}});window.history.pushState({key:Date.now().toFixed(3)},"",n.href)}},{key:"closeSlideshow",value:function(){console.log("Close slideshow"),this.options.ui="cards"}}]),t}(f.Vue);z([Object(f.Watch)("options.noThumbnails")],U.prototype,"onNoThumbnailsChanged",null),z([Object(f.Watch)("options.ui")],U.prototype,"onShowTableChanged",null);var K=U=z([Object(f.Component)({components:{QueryCards:k,QueryTable:S,QuerySlideshow:M},watchQuery:!0,methods:{compactNumber:v.a,timeSince:v.c}})],U),L=(n(210),Object(x.a)(K,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("form",[o("input",{staticClass:"query-input",attrs:{name:"q",action:"/q"},domProps:{value:e.query}})]),e._v(" "),o("div",{staticClass:"query-controls teal"},[o("label",{staticClass:"pointer",attrs:{for:"noThumbnails"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.options.noThumbnails,expression:"options.noThumbnails"}],attrs:{type:"checkbox",id:"noThumbnails"},domProps:{checked:Array.isArray(e.options.noThumbnails)?e._i(e.options.noThumbnails,null)>-1:e.options.noThumbnails},on:{change:function(t){var n=e.options.noThumbnails,o=t.target,r=!!o.checked;if(Array.isArray(n)){var l=e._i(n,null);o.checked?l<0&&e.$set(e.options,"noThumbnails",n.concat([null])):l>-1&&e.$set(e.options,"noThumbnails",n.slice(0,l).concat(n.slice(l+1)))}else e.$set(e.options,"noThumbnails",r)}}}),e._v("No thumbnails")]),e._v(" "),o("label",{staticClass:"pointer",attrs:{for:"uiCards"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiCards",value:"cards"},domProps:{checked:e._q(e.options.ui,"cards")},on:{change:function(t){return e.$set(e.options,"ui","cards")}}}),e._v("Cards view")]),e._v(" "),o("label",{staticClass:"pointer",attrs:{for:"uiTable"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiTable",value:"table"},domProps:{checked:e._q(e.options.ui,"table")},on:{change:function(t){return e.$set(e.options,"ui","table")}}}),e._v("Table view")]),e._v(" "),o("label",{staticClass:"pointer",attrs:{for:"uiSlideshow"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiSlideshow",value:"slideshow"},domProps:{checked:e._q(e.options.ui,"slideshow")},on:{change:function(t){return e.$set(e.options,"ui","slideshow")}}}),e._v("Slideshow")]),e._v(" "),e.queryDuration?o("span",{staticClass:"stats"},[e._v("(took "+e._s(Math.round(e.queryDuration)/1e3)+" s)")]):e._e()]),e._v(" "),e.error?o("div",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),e._v(" "),o("hr"),e._v(" "),o("div",{staticClass:"data-container"},[null===e.results?o("img",{staticClass:"spinner",attrs:{src:n(197)}}):e._e(),e._v(" "),e.results&&0===e.results.length?o("div",[e._v("No results. Tweak that query...")]):e._e(),e._v(" "),e.results?o("transition",{attrs:{name:"component-fade",mode:"out-in"}},["cards"===e.options.ui?o("QueryCards",{attrs:{results:e.results,options:e.options}}):e._e(),e._v(" "),"slideshow"===e.options.ui?o("QuerySlideshow",{attrs:{results:e.results,options:e.options},on:{"close-slideshow":e.closeSlideshow}}):e._e(),e._v(" "),"table"===e.options.ui?o("QueryTable",{attrs:{results:e.results,options:e.options}}):e._e()],1):e._e()],1)])},[],!1,null,"4a50093d",null));t.default=L.exports}}]);