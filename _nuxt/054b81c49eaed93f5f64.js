/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{187:function(e,t,n){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return o})},188:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"g",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"d",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"a",function(){return w});var r=n(40),o=n(187),l=(n(114),n(115),n(6));n(76);function c(e){return e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"G":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e}function d(e){"object"!==Object(l.a)(e)&&(e=new Date(e));var t,n=Math.floor((+new Date-+e)/1e3),r=Math.floor(n/31536e3);return r>=1?t="year":(r=Math.floor(n/2592e3))>=1?t="month":(r=Math.floor(n/86400))>=1?t="day":(r=Math.floor(n/3600))>=1?t="hour":(r=Math.floor(n/60))>=1?t="minute":(r=n,t="second"),(r>1||0===r)&&(t+="s"),r+" "+t}function h(e,t,n){return e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n)}function m(e){return Math.round(100*e)/100}function f(e){return"https://www.youtube.com/embed/"+v(e)+"?autoplay=1"}function v(e){var t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return t&&11===t[2].length?t[2]:"error"}var y=function(){function e(t){var n=t.endCallback,o=t.durationMs;Object(r.a)(this,e),this.start=new Date,this.durationMs=o,this.endCallback=n,this.timerId=window.setTimeout(n,o)}return Object(o.a)(e,[{key:"isActive",value:function(){return!!(this.timerId&&this.percentProgress()<100)}},{key:"cancel",value:function(){if(null===this.timerId)throw new Error("Double cancel of timer");window.clearTimeout(this.timerId),this.timerId=null}},{key:"percentProgress",value:function(){var e=(Date.now()-this.start.getTime())/this.durationMs*100;return e>100?100:e}}]),e}(),w=function(){function e(t){var n=t.durationMs,o=t.progressCallback;Object(r.a)(this,e),this.start=new Date,this.durationMs=n,this.progressCallback=o,this.intervalId=window.setInterval(o,n)}return Object(o.a)(e,[{key:"cancel",value:function(){if(null===this.intervalId)throw new Error("Double cancel of timer");window.clearInterval(this.intervalId),this.intervalId=null}}]),e}()},189:function(e,t,n){var content=n(198);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("16dced34",content,!0,{sourceMap:!1})},190:function(e,t,n){var content=n(200);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("4d70133f",content,!0,{sourceMap:!1})},191:function(e,t,n){var content=n(204);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("5c98055f",content,!0,{sourceMap:!1})},192:function(e,t,n){"use strict";n.d(t,"a",function(){return d});n(61);var r=n(8),o=n(77),l=n.n(o),c="https://us-east1-ubershmekel.cloudfunctions.net/tags3-api?q=";function d(e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={results:null,error:null},r={validateStatus:function(e){return!0}},performance.now(),e.prev=3,e.next=6,l.a.get(c+encodeURI(t),r);case 6:o=e.sent,console.log("query res",o),o.data.error?n.error=o.data.error:n.results=o.data,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Failed to fetch query",e.t0),e.t0&&e.t0.message?n.error=e.t0.message:n.error=""+e.t0;case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}},e,null,[[3,11]])}))).apply(this,arguments)}},193:function(e,t,n){"use strict";var r=n(40),o=n(187),l=n(42),c=n(41),d=n(43),h=n(6),m=n(17),f=n(188),v=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},y=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"userQueryLink",value:function(e){return'/q?q=SELECT * FROM url WHERE "user" = \''.concat(e,"' ORDER BY likes DESC LIMIT 50")}},{key:"domainQueryLink",value:function(e){return'/q?q=SELECT * FROM url WHERE "domain" = \''.concat(e,"' ORDER BY likes DESC LIMIT 50")}}]),t}(m.Vue);v([Object(m.Prop)(Object)],y.prototype,"item",void 0);var w=y=v([Object(m.Component)({methods:{compactNumber:f.c,timeSince:f.g},components:{}})],y),_=(n(199),n(11)),component=Object(_.a)(w,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item-info"},[n("a",{staticClass:"item-title",attrs:{href:e.item.url}},[e._v(e._s(e.item.title))]),e._v(" "),n("div",{staticClass:"item-meta"},[e.item.likes?n("span",{staticClass:"like-count"},[e._v(e._s(e.compactNumber(e.item.likes))+"‚¨Ü")]):e._e(),e._v(" "),e.item.views?n("span",{staticClass:"view-count"},[e._v(e._s(e.compactNumber(e.item.views))+"üëÅ")]):e._e(),e._v(" "),n("span",{staticClass:"domain",attrs:{title:e.item.timestamp}},[e._v("\n      / "),n("nuxt-link",{attrs:{to:e.domainQueryLink(e.item.domain)}},[e._v(e._s(e.item.domain))]),e._v(" "),e.item.channel&&e.item.channel!==e.item.user?[e._v("\n        / "+e._s(e.item.channel)+"\n      ")]:e._e(),e._v("\n      / "),n("nuxt-link",{attrs:{to:e.userQueryLink(e.item.user)}},[e._v(e._s(e.item.user))]),e._v("\n      / "+e._s(e.timeSince(e.item.timestamp))+" ago\n      / "),n("nuxt-link",{attrs:{to:"/url?url="+e.item.url}},[e._v("t")])],2)])])},[],!1,null,"2dbecc3a",null);t.a=component.exports},194:function(e,t,n){"use strict";var r=n(40),o=n(187),l=n(42),c=n(41),d=n(43),h=n(6),m=n(17),f=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},v=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).apply(this,arguments))).onEnded=void 0,e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"onMuteChange",value:function(e,t){this.$el.muted=e}},{key:"progress",value:function(){var e=this.$el;if(e&&e.duration>0)return 100*e.currentTime/e.duration;throw new Error("Invalid video element progress")}},{key:"scrollEvent",value:function(e){var t=this.$el;(function(e){var rect=e.getBoundingClientRect(),t=rect.top,n=rect.bottom;return t<window.innerHeight&&n>=0})(t)||t.paused||t.pause()}},{key:"created",value:function(){window.addEventListener("scroll",this.scrollEvent)}},{key:"destroyed",value:function(){window.removeEventListener("scroll",this.scrollEvent)}},{key:"mounted",value:function(){var e=this,t=this.$el;t.muted=this.mute,this.autoPlay&&(t.autoplay=!0);var n=!1;t.addEventListener("timeupdate",function(r){t.currentTime<.1&&!n&&(n=!0,e.onEnded&&e.onEnded(r),1,setTimeout(function(){n=!1},500))},!0)}}]),t}(m.Vue);f([Object(m.Prop)(Boolean)],v.prototype,"mute",void 0),f([Object(m.Prop)(String)],v.prototype,"videoUrl",void 0),f([Object(m.Prop)(String)],v.prototype,"audioUrl",void 0),f([Object(m.Prop)(String)],v.prototype,"poster",void 0),f([Object(m.Prop)(Boolean)],v.prototype,"autoPlay",void 0),f([Object(m.Prop)(Function)],v.prototype,"onEnded",void 0),f([Object(m.Watch)("mute")],v.prototype,"onMuteChange",null);var y=v=f([Object(m.Component)({methods:{}})],v),w=n(11),component=Object(w.a)(y,function(){var e=this.$createElement,t=this._self._c||e;return t("video",{attrs:{playsinline:"",loop:"",controls:"",poster:this.poster?this.poster:"true"}},[t("source",{attrs:{src:this.videoUrl}}),this._v(" "),t("source",{attrs:{src:this.audioUrl,type:"audio/aac"}})])},[],!1,null,"f4f09a94",null);t.a=component.exports},197:function(e,t,n){"use strict";var r=n(189);n.n(r).a},198:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".item-main[data-v-7eecfe0e]{max-width:100%;max-height:80vh}item-image[data-v-7eecfe0e]{min-height:40px}.item-view-container[data-v-7eecfe0e]{text-align:center;display:block;background-color:#222;max-width:100%;max-height:80vh}.play-button[data-v-7eecfe0e]{height:50%;display:block;position:absolute;left:0;right:0;bottom:0;top:0;margin:auto;opacity:.6;pointer-events:none}.maybe-play-button-container[data-v-7eecfe0e]{position:relative}",""])},199:function(e,t,n){"use strict";var r=n(190);n.n(r).a},200:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".item[data-v-2dbecc3a]{border-radius:4px;padding:4px;background-color:#333;margin:1em;border-left:1px solid #ddd}.domain[data-v-2dbecc3a]{opacity:.6}.domain a[data-v-2dbecc3a]{font-weight:400}.item-title[data-v-2dbecc3a]{display:block}.item-meta[data-v-2dbecc3a]{color:#999}.item-info[data-v-2dbecc3a]{vertical-align:top;margin-left:.5em}.stats[data-v-2dbecc3a]{opacity:.6}",""])},201:function(e,t,n){var content=n(221);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("7165d015",content,!0,{sourceMap:!1})},202:function(e,t,n){var content=n(224);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("5d2a130b",content,!0,{sourceMap:!1})},203:function(e,t,n){"use strict";var r=n(191);n.n(r).a},204:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".item[data-v-0caa82d2]{border-radius:4px;padding:4px;background-color:#333;margin:1em;border-left:1px solid #ddd;display:flex;flex-direction:row;align-items:flex-start}.domain[data-v-0caa82d2]{opacity:.6}.item-title[data-v-0caa82d2]{display:block}.item-meta[data-v-0caa82d2]{color:#999}.item-info[data-v-0caa82d2]{vertical-align:top;margin-left:.5em}.item-thumb-container[data-v-0caa82d2]{height:80px;width:80px;min-width:80px;background-color:hsla(0,0%,48.2%,.2)}.item-thumb[data-v-0caa82d2]{width:80px;height:80px;-o-object-fit:cover;object-fit:cover}.stats[data-v-0caa82d2]{opacity:.6}table[data-v-0caa82d2]{border-collapse:collapse;margin-bottom:10px;width:100%}td[data-v-0caa82d2],th[data-v-0caa82d2]{padding:6px;text-align:left}th[data-v-0caa82d2]{border-bottom:1px solid #333}tbody tr[data-v-0caa82d2]:nth-child(odd){background-color:#1a1a1a}",""])},205:function(e,t,n){var content=n(234);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("730dfe7a",content,!0,{sourceMap:!1})},206:function(e,t,n){var content=n(236);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("7bda6b54",content,!0,{sourceMap:!1})},213:function(e,t,n){"use strict";var r=n(40),o=n(42),l=n(41),c=n(43),d=n(6),h=n(17),m=n(194),f=n(188),v=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},y=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(o.a)(this,Object(l.a)(t).apply(this,arguments))).youtubePlay=!1,e}return Object(c.a)(t,e),t}(h.Vue);v([Object(h.Prop)(Object)],y.prototype,"item",void 0);var w=y=v([Object(h.Component)({methods:{youtubeEmbedUrl:f.h},components:{Video:m.a}})],y),_=(n(197),n(11)),component=Object(_.a)(w,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item-view-container"},[e.item.video_url?n("Video",{key:e.item.video_url,staticClass:"item-main item-video",attrs:{"auto-play":!1,"video-url":e.item.video_url,"audio-url":e.item.audio_url,poster:e.item.image_url}}):e._e(),e._v(" "),e.item.image_url&&!e.item.video_url?n("img",{staticClass:"item-main item-image",attrs:{src:e.item.image_url,onerror:"this.style.display='none'"}}):e._e(),e._v(" "),e.youtubePlay?e._e():n("div",{staticClass:"maybe-play-button-container",on:{click:function(t){e.youtubePlay=!0}}},[!e.item.thumbnail_url||e.item.image_url||e.item.video_url?e._e():n("img",{staticClass:"item-main item-image",attrs:{src:e.item.thumbnail_url,onerror:"this.style.display='none'"}}),e._v(" "),"youtube.com"===e.item.domain?n("svg",{staticClass:"play-button",attrs:{viewBox:"0 0 200 200"}},[n("polygon",{staticStyle:{fill:"white","stroke-width":"0"},attrs:{points:"0,0 200,100 0,200"}})]):e._e()]),e._v(" "),"youtube.com"===e.item.domain?n("div",{staticClass:"youtube-embed item-main"},[e.youtubePlay?n("div",[n("iframe",{attrs:{width:"100%",height:"315",src:e.youtubeEmbedUrl(e.item.url),frameborder:"0",autoplay:"1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]):e._e()]):e._e()],1)},[],!1,null,"7eecfe0e",null);t.a=component.exports},214:function(e,t,n){"use strict";n(44),n(20),n(78);var r=n(40),o=n(187),l=n(42),c=n(41),d=n(43),h=n(6),m=n(17),f=n(188),v=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},y=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"truncate",value:function(e){var text=String(e);return text.length>100&&(text=text.slice(0,100)+" [...]"),text}},{key:"sortedKeys",value:function(){var e=Object.keys(this.$props.results[0]);return e.sort(),e=e.filter(function(e){return"audio_url"!==e&&"is_collection"!==e})}}]),t}(m.Vue),w=y=v([Object(m.Component)({props:{results:Array,options:Object},methods:{compactNumber:f.c,timeSince:f.g}})],y),_=(n(203),n(11)),component=Object(_.a)(w,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"query-results-table"},[n("thead",{staticClass:"table-header"},[n("tr",e._l(e.sortedKeys(),function(t){return n("th",{key:t},[e._v(e._s(t))])}),0)]),e._v(" "),n("tbody",e._l(e.results,function(t,r){return n("tr",{key:r,staticClass:"item-row"},e._l(e.sortedKeys(),function(o){return n("td",{key:r+"-"+o,staticClass:"item-cell",attrs:{title:t[o]}},[e._v("\n        "+e._s(e.truncate(t[o]))+"\n      ")])}),0)}),0)])},[],!1,null,"0caa82d2",null);t.a=component.exports},219:function(e,t,n){e.exports=n.p+"img/034b164.svg"},220:function(e,t,n){"use strict";var r=n(201);n.n(r).a},221:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".item[data-v-1f5a5d78]{border-radius:4px;padding:4px;background-color:#333;margin:1em;border-left:1px solid #ddd}.domain[data-v-1f5a5d78]{opacity:.6}.item-title[data-v-1f5a5d78]{display:block}.item-meta[data-v-1f5a5d78]{color:#999}.item-info[data-v-1f5a5d78]{vertical-align:top;margin-left:.5em}.item-thumb-container[data-v-1f5a5d78]{height:80px;width:80px;min-width:80px;background-color:hsla(0,0%,48.2%,.2)}.item-thumb[data-v-1f5a5d78]{width:80px;height:80px;-o-object-fit:cover;object-fit:cover}.stats[data-v-1f5a5d78]{opacity:.6}.list-enter-active[data-v-1f5a5d78],.list-leave-active[data-v-1f5a5d78]{transition:all 1s;transition-delay:calc(var(--animation-order)*50ms)}.list-enter[data-v-1f5a5d78],.list-leave-to[data-v-1f5a5d78]{opacity:0;transform:translateY(30px);transition-delay:calc(var(--animation-order)*50ms)}",""])},222:function(e,t,n){e.exports=n.p+"img/0db5626.svg"},223:function(e,t,n){"use strict";var r=n(202);n.n(r).a},224:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".item[data-v-657c5562]{border-radius:4px;padding:4px;background-color:#333;margin:1em;border-left:1px solid #ddd;display:flex;flex-direction:row;align-items:flex-start}.domain[data-v-657c5562]{opacity:.6}.item-title[data-v-657c5562]{display:block}.item-meta[data-v-657c5562]{color:#999}.item-info[data-v-657c5562]{vertical-align:top;margin-left:.5em}.item-thumb-container[data-v-657c5562]{height:80px;width:80px;min-width:80px;background-color:hsla(0,0%,48.2%,.2)}.item-thumb[data-v-657c5562]{width:80px;height:80px;-o-object-fit:cover;object-fit:cover}.stats[data-v-657c5562]{opacity:.6}.list-enter-active[data-v-657c5562],.list-leave-active[data-v-657c5562]{transition:all 1s;transition-delay:calc(var(--animation-order)*50ms)}.list-enter[data-v-657c5562],.list-leave-to[data-v-657c5562]{opacity:0;transform:translateY(30px);transition-delay:calc(var(--animation-order)*50ms)}",""])},225:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMzAiIGhlaWdodD0iMzMwIiB2aWV3Qm94PSIwIDAgODcuMzEyIDg3LjMxMiI+PGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjE1Ljg3NSI+PHBhdGggZD0iTTM0LjM5NiA3OS4zNzVINy45MzdWNTIuOTE3TTUyLjkxNyA3OS4zNzVoMjYuNDU4VjUyLjkxN00zNC4zOTYgNy45MzhINy45Mzd2MjYuNDU4TTUyLjkxNyA3LjkzOGgyNi40NTh2MjYuNDU4Ii8+PC9nPjwvc3ZnPg=="},226:function(e,t,n){e.exports=n.p+"img/b3f7916.svg"},227:function(e,t,n){e.exports=n.p+"img/9eb5228.svg"},228:function(e,t,n){"use strict";var r=n(3),o=n(21),l=n(26),c=n(116),d=n(62),h=n(12),m=n(63).f,f=n(80).f,v=n(13).f,y=n(229).trim,w=r.Number,_=w,x=w.prototype,k="Number"==l(n(79)(x)),j="trim"in String.prototype,O=function(e){var t=d(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,l=(t=j?t.trim():y(t,3)).charCodeAt(0);if(43===l||45===l){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===l){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var code,c=t.slice(2),i=0,h=c.length;i<h;i++)if((code=c.charCodeAt(i))<48||code>o)return NaN;return parseInt(c,r)}}return+t};if(!w(" 0o1")||!w("0b1")||w("+0x1")){w=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof w&&(k?h(function(){x.valueOf.call(n)}):"Number"!=l(n))?c(new _(O(t)),n,w):O(t)};for(var C,S=n(7)?m(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;S.length>E;E++)o(_,C=S[E])&&!o(w,C)&&v(w,C,f(_,C));w.prototype=x,x.constructor=w,n(15)(r,"Number",w)}},229:function(e,t,n){var r=n(9),o=n(25),l=n(12),c=n(230),d="["+c+"]",h=RegExp("^"+d+d+"*"),m=RegExp(d+d+"*$"),f=function(e,t,n){var o={},d=l(function(){return!!c[e]()||"‚Äã¬Ö"!="‚Äã¬Ö"[e]()}),h=o[e]=d?t(v):c[e];n&&(o[n]=h),r(r.P+r.F*d,"String",o)},v=f.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(h,"")),2&t&&(e=e.replace(m,"")),e};e.exports=f},230:function(e,t){e.exports="\t\n\v\f\r ¬†·öÄ·†é‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff"},231:function(e,t,n){var r=n(9);r(r.S,"Number",{isInteger:n(232)})},232:function(e,t,n){var r=n(14),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},233:function(e,t,n){"use strict";var r=n(205);n.n(r).a},234:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,'.domain[data-v-2ec8b669]{opacity:.6}.item-title[data-v-2ec8b669]{display:block}.item-meta[data-v-2ec8b669]{color:#fff}.item-info[data-v-2ec8b669]{vertical-align:top;margin-left:.5em}.item-thumb-container[data-v-2ec8b669]{height:80px;width:80px;min-width:80px;background-color:hsla(0,0%,48.2%,.2)}.item-thumb[data-v-2ec8b669]{width:80px;height:80px;-o-object-fit:cover;object-fit:cover}.stats[data-v-2ec8b669]{opacity:.6}.slideshow[data-v-2ec8b669]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000}.slide-controls[data-v-2ec8b669]{position:absolute;background-color:rgba(0,0,0,.5);color:#fff;z-index:1}.slideshow-image[data-v-2ec8b669],.slideshow-video[data-v-2ec8b669]{display:block;margin:auto;-o-object-fit:contain;object-fit:contain;height:100%;width:100%}.slideshow-thumb[data-v-2ec8b669]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;position:fixed;top:0;left:0;z-index:-1;-webkit-filter:blur(20px);filter:blur(20px)}.slideshow-typography[data-v-2ec8b669]{font-size:3em;display:flex;justify-content:center;align-items:center;height:100%;width:100%;text-align:center;padding:1em;box-sizing:border-box}.fade-enter-active[data-v-2ec8b669],.fade-leave-active[data-v-2ec8b669]{transition:opacity .5s}.fade-enter[data-v-2ec8b669],.fade-leave[data-v-2ec8b669]{opacity:0}button[data-v-2ec8b669]{position:relative;overflow:hidden}.pause-after[data-v-2ec8b669]{content:"";position:absolute;border-bottom:4px solid hsla(0,0%,100%,.3);bottom:0;left:0;height:100%}.button-img[data-v-2ec8b669],img.fullscreen[data-v-2ec8b669]{height:1em;width:1em;position:relative;top:.153em}.slideshow-youtube[data-v-2ec8b669]{width:100%;height:100%}',""])},235:function(e,t,n){"use strict";var r=n(206);n.n(r).a},236:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".query-input[data-v-89d0677e]{width:100%;box-sizing:border-box}.error[data-v-89d0677e]{color:red}hr[data-v-89d0677e]{border:none;border-top:1px solid #333}.query-controls label[data-v-89d0677e]{margin-right:.5em}.spinner[data-v-89d0677e]{width:100px}.stats[data-v-89d0677e]{color:#999}.big-list[data-v-89d0677e]{min-height:100vh}",""])},251:function(e,t,n){"use strict";n.r(t);n(61);var r=n(8),o=n(40),l=n(187),c=n(42),d=n(41),h=n(43),m=n(6),f=n(17),v=n(188),y=n(37),w=n(213),_=n(193),x=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},k=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"isDecent",value:function(e){var t=this.$globals.showNsfw,n=!1;return e.tags&&e.tags.indexOf("nsfw")>=0&&(n=!0),!n||!!t}}]),t}(f.Vue),j=k=x([Object(f.Component)({props:{results:Array,options:Object},methods:{compactNumber:v.c,timeSince:v.g,isShowNsfwCookieSet:y.a},components:{EmbedCard:w.a,EmbedInfo:_.a}})],k),O=(n(220),n(11)),C=Object(O.a)(j,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition-group",{attrs:{name:"list",tag:"div"}},e._l(e.results,function(t,r){return n("div",{key:r,staticClass:"item",style:"--animation-order:"+r},[n("EmbedInfo",{attrs:{item:t}}),e._v(" "),e.isDecent(t)?n("div",[e.options.noThumbnails?e._e():n("EmbedCard",{attrs:{item:t}})],1):e._e(),e._v(" "),e.isDecent(t)?e._e():n("div",[n("button",{on:{click:e.$globals.toggleShowNsfw}},[e._v("Show unsafe content?")])])],1)}),0)],1)},[],!1,null,"1f5a5d78",null).exports,S=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},E=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),t}(f.Vue),T=E=S([Object(f.Component)({props:{results:Array,options:Object},methods:{compactNumber:v.c,timeSince:v.g},components:{EmbedInfo:_.a}})],E),P=(n(223),Object(O.a)(T,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("transition-group",{attrs:{name:"list",tag:"div"}},e._l(e.results,function(t,o){return r("div",{key:o,staticClass:"item",style:"--animation-order:"+o},[e.options.noThumbnails?e._e():r("a",{staticClass:"item-thumb-container",attrs:{href:t.url}},[t.thumbnail_url?r("img",{staticClass:"item-thumb",attrs:{src:t.thumbnail_url,onerror:"this.style.display='none'"}}):e._e(),e._v(" "),t.thumbnail_url?e._e():r("img",{staticClass:"item-thumb",attrs:{src:n(222)}})]),e._v(" "),r("EmbedInfo",{attrs:{item:t}})],1)}),0)],1)},[],!1,null,"657c5562",null).exports),I=n(214),N=(n(228),n(231),n(81),n(82),n(194));String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});var R=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\S*[^\w\s-])([\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,M=/t=(\d+)[ms]?(\d+)?s?/;function D(e){var t=e.replace(R,"$1");if(t.includes(";")){var n=t.split(";");if(n[1].includes("%"))t=("http://youtube.com"+decodeURIComponent(n[1])).replace(R,"$1");else t=n[0]}else t.includes("#")&&(t=t.split("#")[0]);return t}function $(e){void 0===e&&(e="");var t=e.match(M);if(!t)return 0;var n=t[0],r=t[1],o=t[2];return void 0!==o?(o=parseInt(o,10),r=parseInt(r,10)):n.includes("m")?(r=parseInt(r,10),o=0):(o=parseInt(r,10),r=0),o+60*r}var F={scripts:[],events:{},run:function(){var e=this;this.scripts.forEach(function(t){t(e.YT)}),this.scripts=[]},register:function(e){var t=this;this.YT?this.Vue.nextTick(function(){e(t.YT)}):this.scripts.push(e)}},Q=0,A={name:"YoutubeEmbed",props:{playerHeight:{type:[String,Number],default:"360"},playerWidth:{type:[String,Number],default:"640"},playerVars:{type:Object,default:function(){return{autoplay:0,time:0}}},videoId:{type:String},mute:{type:Boolean,default:!1},host:{type:String,default:"https://www.youtube.com"}},render:function(e){return e("div",[e("div",{attrs:{id:this.elementId}})])},template:'<div><div :id="elementId"></div></div>',watch:{playerWidth:"setSize",playerHeight:"setSize",videoId:"update",mute:"setMute"},data:function(){return{elementId:"youtube-player-"+(Q+=1),player:{}}},methods:{setSize:function(){this.player.setSize(this.playerWidth,this.playerHeight)},setMute:function(e){e?this.player.mute():this.player.unMute()},update:function(e){var t=(this.playerVars.autoplay?"load":"cue")+"VideoById";this.player.hasOwnProperty(t)?this.player[t](e):setTimeout(function(){this.update(e)}.bind(this),100)}},mounted:function(){var e=this;F.register(function(t){var n=e,r=n.playerHeight,o=n.playerWidth,l=n.playerVars,c=n.videoId,d=n.host;e.player=new t.Player(e.elementId,{height:r,width:o,playerVars:l,videoId:c,host:d,events:{onReady:function(t){e.setMute(e.mute),e.$emit("ready",t)},onStateChange:function(t){-1!==t.data&&e.$emit(F.events[t.data],t)},onError:function(t){e.$emit("error",t)}}})})},beforeDestroy:function(){null!==this.player&&this.player.destroy&&this.player.destroy(),delete this.player}},U={install:function(e,t){void 0===t&&(t={}),F.Vue=e,A.ready=A.mounted;var n=t.global;void 0===n&&(n=!0);var r=t.componentId;if(void 0===r&&(r="youtube"),n&&e.component(r,A),e.prototype.$youtube={getIdFromURL:D,getTimeFromURL:$},"undefined"!=typeof window&&"undefined"!=typeof document){var o=document.createElement("script");o.src="https://www.youtube.com/player_api";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(o,l),window.onYouTubeIframeAPIReady=function(){F.YT=YT;var e=YT.PlayerState;F.events[e.ENDED]="ended",F.events[e.PLAYING]="playing",F.events[e.PAUSED]="paused",F.events[e.BUFFERING]="buffering",F.events[e.CUED]="cued",F.Vue.nextTick(function(){F.run()})}}}},z=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l};f.Vue.use(U);var V=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).apply(this,arguments))).currentSlide=0,e.minControls=!1,e.mute=!0,e.autoPlay=!0,e.nextSlideTimer=null,e.progressUpdateInterval=null,e.progressPercent=0,e.nextSlideDelayMs=4e3,e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"toggleMinControls",value:function(){this.minControls=!this.minControls}},{key:"updateProgressPercent",value:function(){this.autoPlay||(this.progressPercent=0),this.nextSlideTimer&&(this.progressPercent=this.nextSlideTimer.percentProgress()),this.isVideoSlide()&&(this.progressPercent=this.$refs.videoPlayer.progress())}},{key:"closeSlideshow",value:function(){console.log("Tryin to close"),this.$emit("close-slideshow")}},{key:"isVideoSlide",value:function(){return!(!this.item.video_url&&"youtube.com"!==this.item.domain)}},{key:"resetAutoPlayTimer",value:function(){if(this.nextSlideTimer&&(this.nextSlideTimer.cancel(),this.nextSlideTimer=null,this.progressPercent=0),this.autoPlay){if(this.isVideoSlide())return;this.nextSlideTimer=new v.b({endCallback:this.nextSlide,durationMs:this.nextSlideDelayMs})}}},{key:"eventToggleFullScreen",value:function(e){var t;t=document.body,H()?B():function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():console.warn("Did not find request full screen method",e)}(t||document.body)}},{key:"nextSlide",value:function(){this.setCurrentSlide(this.currentSlide+1)}},{key:"prevSlide",value:function(){this.setCurrentSlide(this.currentSlide-1)}},{key:"setCurrentSlide",value:function(e){this.currentSlide=Y(e,this.results.length),this.resetAutoPlayTimer();var t=Y(this.currentSlide+1,this.results.length),n=this.results[t].image_url;n&&document.createElement("img").setAttribute("src",n)}},{key:"handleKeyEvent",value:function(e){var t=function(e){var output;output=e.code.includes("Numpad")||e.code.includes("Shift")||e.code.includes("Space")||e.code.includes("Backspace")||e.code.includes("Control")||e.code.includes("Alt")||e.code.includes("Meta")?e.code:e.key;(output!==output.toUpperCase()||"F"===e.code[0]&&Number.isInteger(Number(e.code[1]))&&e.code.length<=3)&&(output=output.toLowerCase());return output}(e);switch(t){case"m":this.toggleMute();break;case"f":this.eventToggleFullScreen();break;case"a":this.togglePausePlay();break;case"h":this.toggleMinControls();break;case"arrowleft":this.prevSlide();break;case"arrowright":case"enter":this.nextSlide();break;case"pagedown":this.setCurrentSlide(this.currentSlide+10);break;case"pageup":this.setCurrentSlide(this.currentSlide-10);break;case"home":this.setCurrentSlide(0);break;case"end":this.setCurrentSlide(-1);break;case"c":this.minControls=!this.minControls;break;case"escape":this.closeSlideshow()}console.log("key",t)}},{key:"toggleMute",value:function(){this.mute=!this.mute}},{key:"togglePausePlay",value:function(){this.autoPlay=!this.autoPlay,this.resetAutoPlayTimer()}},{key:"videoEnded",value:function(e){console.log("Vidended",e),this.autoPlay&&this.nextSlide()}},{key:"toggleNextSlideDelay",value:function(e){this.nextSlideDelayMs=2*this.nextSlideDelayMs,this.nextSlideDelayMs>32e3&&(this.nextSlideDelayMs=1e3)}},{key:"created",value:function(){console.log("Slideshow create",this.$data),document.addEventListener(L,this.handleKeyEvent);var e=document.activeElement;e&&e.blur(),this.setCurrentSlide(0),this.progressUpdateInterval=new v.a({durationMs:30,progressCallback:this.updateProgressPercent})}},{key:"destroyed",value:function(){console.log("Slideshow destroy"),document.removeEventListener(L,this.handleKeyEvent),this.progressUpdateInterval&&this.progressUpdateInterval.cancel(),H()&&B()}},{key:"item",get:function(){return this.results?this.results[this.currentSlide]:null}}]),t}(f.Vue);z([Object(f.Prop)(Array)],V.prototype,"results",void 0),z([Object(f.Prop)(Object)],V.prototype,"options",void 0),V=z([Object(f.Component)({methods:{compactNumber:v.c,timeSince:v.g,youtubeEmbedUrl:v.h,getYoutubeId:v.d},components:{Video:N.a,EmbedInfo:_.a}})],V);var L="keydown";function Y(a,b){return(a%b+b)%b}function H(){var e=window.document;return e.fullscreenElement&&null!==e.fullscreenElement||e.webkitFullscreenElement&&null!==e.webkitFullscreenElement||e.mozFullScreenElement&&null!==e.mozFullScreenElement||e.msFullscreenElement&&null!==e.msFullscreenElement}function B(){var e=window.document;e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen()}var W=V,G=(n(233),Object(O.a)(W,function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.item?r("div",{staticClass:"slideshow"},[r("div",{staticClass:"slide-controls"},[e.minControls?e._e():r("span",[r("button",{attrs:{title:"close and edit query"},on:{click:e.closeSlideshow}},[e._v("x")]),e._v(" "),r("button",{attrs:{title:"previous"},on:{click:e.prevSlide}},[e._v("‚¨Ö")]),e._v(" "),r("button",{staticClass:"current-slide",attrs:{disabled:""}},[e._v(e._s(e.currentSlide))]),e._v(" "),r("button",{attrs:{title:"next"},on:{click:e.nextSlide}},[e._v("‚û°")]),e._v(" "),r("button",{attrs:{title:"mute [m]"},on:{click:e.toggleMute}},[e._v(e._s(e.mute?"üîá":"üîä"))]),e._v(" "),r("button",{staticClass:"pause",attrs:{title:"pause/play [a]"},on:{click:e.togglePausePlay}},[e._v(e._s(e.autoPlay?"‚è∏":"‚ñ∂Ô∏è")),r("div",{staticClass:"pause-after",style:"width:"+e.progressPercent+"%"})]),e._v(" "),r("button",{staticClass:"delay",attrs:{title:"Seconds between slides"},on:{click:e.toggleNextSlideDelay}},[e._v(e._s(e.nextSlideDelayMs/1e3)+" seconds")]),e._v(" "),r("button",{attrs:{title:"full screen [f]"},on:{click:e.eventToggleFullScreen}},[r("img",{staticClass:"fullscreen",attrs:{src:n(225)}})])]),e._v(" "),r("button",{staticClass:"minimizer",attrs:{title:"hide controls"},on:{click:e.toggleMinControls}},[e.minControls?r("img",{staticClass:"button-img",attrs:{src:n(226)}}):e._e(),e._v(" "),e.minControls?e._e():r("img",{staticClass:"button-img",attrs:{src:n(227)}})]),e._v(" "),e.minControls?e._e():r("EmbedInfo",{attrs:{item:e.item}})],1),e._v(" "),e.item.video_url?r("Video",{key:e.item.video_url,ref:"videoPlayer",staticClass:"slideshow-video",attrs:{autoplay:"",playsinline:"",loop:"",controls:"",poster:"true",mute:e.mute,"video-url":e.item.video_url,"on-ended":e.videoEnded}}):e._e(),e._v(" "),e.item.image_url?r("img",{key:e.item.image_url,staticClass:"slideshow-image",attrs:{src:e.item.image_url,onerror:"this.style.display='none'"}}):e._e(),e._v(" "),e.item.thumbnail_url?r("img",{staticClass:"slideshow-thumb",attrs:{src:e.item.thumbnail_url,onerror:"this.style.display='none'"}}):e._e(),e._v(" "),e.item.thumbnail_url||e.item.image_url||e.item.video_url?e._e():r("div",{staticClass:"slideshow-typography"},[e._v("\n    "+e._s(e.item.title)+"\n  ")]),e._v(" "),r("youtube",{staticClass:"slideshow-video",attrs:{"video-id":e.getYoutubeId(e.item.url),"player-width":"100%","player-height":"100%","player-vars":{autoplay:1}},on:{ended:e.videoEnded}})],1):e._e()},[],!1,null,"2ec8b669",null).exports),Z=n(192),K=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l};var J={noThumbnails:"!nothumbs",showTable:"!table",slideShow:"!slideshow",hugecards:"!hugecards"},X=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).apply(this,arguments))).query="",e.results=null,e.error="",e.queryDuration=null,e.options={noThumbnails:!1,ui:"cards",unsafeContent:Object(y.a)()},e.fetchingQuery="",e.fetchedQuery="",e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"fetch",value:function(e){console.log("fetch",e)}},{key:"asyncData",value:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.route.query.q,console.log("AsyncData",n),e.abrupt("return",{query:n});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return!0}},{key:"beforeUpdate",value:function(){console.log("beforeUpdate")}},{key:"queryToUiOption",value:function(e){return e.indexOf(J.showTable)>=0?"table":e.indexOf(J.slideShow)>=0?"slideshow":e.indexOf(J.hugecards)>=0?"hugecards":"cards"}},{key:"setOptionsFromQuery",value:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Setting options from query"),this.query.indexOf(J.noThumbnails)>=0?this.options.noThumbnails=!0:this.options.noThumbnails=!1,this.options.ui=this.queryToUiOption(this.query);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchQueryData",value:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,n,r,o,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n in console.log("fetchQueryData"),t=this.query,J)r=J[n],t.indexOf(r)>=0&&(t=Object(v.e)(t,r,""));if(o=t,this.fetchedQuery!==o&&this.fetchingQuery!==o){e.next=6;break}return e.abrupt("return");case 6:return l=performance.now(),e.prev=7,this.fetchingQuery=o,e.next=11,Object(Z.a)(o);case 11:c=e.sent,this.queryDuration=performance.now()-l,this.fetchingQuery="",this.fetchedQuery=o,c.error?this.error=c.error:this.results=c.results,e.next=24;break;case 18:return e.prev=18,e.t0=e.catch(7),this.fetchingQuery="",console.error("Failed to fetch query",e.t0),e.t0&&e.t0.message?this.error=e.t0.message:this.error=""+e.t0,e.abrupt("return");case 24:case"end":return e.stop()}},e,this,[[7,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"created",value:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("created"),this.query=this.$route.query.q,console.log("This query created",this.query),this.setOptionsFromQuery(),this.fetchQueryData();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setQueryCommand",value:function(e,t){var n=this.query.indexOf(t)>=0;e&&!n&&(this.query=this.query+" "+t),!e&&n&&(this.query=Object(v.e)(this.query," "+t,""))}},{key:"onQueryChanged",value:function(e,t){console.log("Query changed ".concat(e,"  --\x3e  ").concat(t)),this.setOptionsFromQuery(),this.fetchQueryData()}},{key:"onNoThumbnailsChanged",value:function(e,t){this.setQueryCommand(e,J.noThumbnails)}},{key:"onShowTableChanged",value:function(e,t){if(console.log("Updating route because of new ui options ".concat(t," -> ").concat(e)),this.setQueryCommand(!1,J.showTable),this.setQueryCommand(!1,J.slideShow),this.setQueryCommand(!1,J.hugecards),"table"===e?this.setQueryCommand(!0,J.showTable):"slideshow"===e?this.setQueryCommand(!0,J.slideShow):"hugecards"===e&&this.setQueryCommand(!0,J.hugecards),e!==t){var n=this.$router.resolve({path:this.$route.path,query:{q:this.query}});window.history.replaceState({key:Date.now().toFixed(3)},"",n.href)}}},{key:"closeSlideshow",value:function(){console.log("Close slideshow"),this.options.ui="cards"}},{key:"onUrlChange",value:function(e,t){e&&e.query&&e.query.q&&(console.log("Route changed to ".concat(e.query.q)),this.query=e.query.q)}}]),t}(f.Vue);K([Object(f.Watch)("query")],X.prototype,"onQueryChanged",null),K([Object(f.Watch)("options.noThumbnails")],X.prototype,"onNoThumbnailsChanged",null),K([Object(f.Watch)("options.ui")],X.prototype,"onShowTableChanged",null),K([Object(f.Watch)("$route",{immediate:!0,deep:!0})],X.prototype,"onUrlChange",null);var ee=X=K([Object(f.Component)({components:{QueryCards:P,QueryTable:I.a,QuerySlideshow:G,QueryHugeCards:C},watchQuery:!0,methods:{compactNumber:v.c,timeSince:v.g,roundTwoDecimals:v.f}})],X),te=(n(235),Object(O.a)(ee,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("form",[r("input",{staticClass:"query-input",attrs:{name:"q",action:"/q"},domProps:{value:e.query}})]),e._v(" "),r("div",{staticClass:"query-controls teal"},[r("label",{staticClass:"pointer",attrs:{for:"noThumbnails"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.options.noThumbnails,expression:"options.noThumbnails"}],attrs:{type:"checkbox",id:"noThumbnails"},domProps:{checked:Array.isArray(e.options.noThumbnails)?e._i(e.options.noThumbnails,null)>-1:e.options.noThumbnails},on:{change:function(t){var n=e.options.noThumbnails,r=t.target,o=!!r.checked;if(Array.isArray(n)){var l=e._i(n,null);r.checked?l<0&&e.$set(e.options,"noThumbnails",n.concat([null])):l>-1&&e.$set(e.options,"noThumbnails",n.slice(0,l).concat(n.slice(l+1)))}else e.$set(e.options,"noThumbnails",o)}}}),e._v("No thumbnails\n    ")]),e._v(" "),r("label",{staticClass:"pointer",attrs:{for:"unsafeContent"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.$globals.showNsfw,expression:"$globals.showNsfw"}],attrs:{type:"checkbox",id:"unsafeContent"},domProps:{checked:Array.isArray(e.$globals.showNsfw)?e._i(e.$globals.showNsfw,null)>-1:e.$globals.showNsfw},on:{change:function(t){var n=e.$globals.showNsfw,r=t.target,o=!!r.checked;if(Array.isArray(n)){var l=e._i(n,null);r.checked?l<0&&e.$set(e.$globals,"showNsfw",n.concat([null])):l>-1&&e.$set(e.$globals,"showNsfw",n.slice(0,l).concat(n.slice(l+1)))}else e.$set(e.$globals,"showNsfw",o)}}}),e._v("Unsafe content\n    ")]),e._v(" "),r("label",{staticClass:"pointer",attrs:{for:"uiCards"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiCards",value:"cards"},domProps:{checked:e._q(e.options.ui,"cards")},on:{change:function(t){return e.$set(e.options,"ui","cards")}}}),e._v("Cards view")]),e._v(" "),r("label",{staticClass:"pointer",attrs:{for:"uiHugeCards"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiHugeCards",value:"hugecards"},domProps:{checked:e._q(e.options.ui,"hugecards")},on:{change:function(t){return e.$set(e.options,"ui","hugecards")}}}),e._v("Huge cards view")]),e._v(" "),r("label",{staticClass:"pointer",attrs:{for:"uiTable"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiTable",value:"table"},domProps:{checked:e._q(e.options.ui,"table")},on:{change:function(t){return e.$set(e.options,"ui","table")}}}),e._v("Table view")]),e._v(" "),r("label",{staticClass:"pointer",attrs:{for:"uiSlideshow"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiSlideshow",value:"slideshow"},domProps:{checked:e._q(e.options.ui,"slideshow")},on:{change:function(t){return e.$set(e.options,"ui","slideshow")}}}),e._v("Slideshow")]),e._v(" "),e.queryDuration?r("span",{staticClass:"stats"},[e._v("(took "+e._s(e.roundTwoDecimals(e.queryDuration/1e3))+" s)")]):e._e()]),e._v(" "),e.error?r("div",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),e._v(" "),r("hr"),e._v(" "),r("div",{staticClass:"data-container"},[e.fetchingQuery?r("img",{staticClass:"spinner",attrs:{src:n(219)}}):e._e(),e._v(" "),e.results&&0===e.results.length?r("div",[e._v("No results. Tweak that query...")]):e._e(),e._v(" "),e.results?r("transition",{attrs:{name:"component-fade",mode:"out-in"}},["cards"===e.options.ui?r("QueryCards",{staticClass:"big-list",attrs:{results:e.results,options:e.options}}):e._e(),e._v(" "),"hugecards"===e.options.ui?r("QueryHugeCards",{staticClass:"big-list",attrs:{results:e.results,options:e.options}}):e._e(),e._v(" "),"slideshow"===e.options.ui?r("QuerySlideshow",{attrs:{results:e.results,options:e.options},on:{"close-slideshow":e.closeSlideshow}}):e._e(),e._v(" "),"table"===e.options.ui?r("QueryTable",{staticClass:"big-list",attrs:{results:e.results,options:e.options}}):e._e()],1):e._e(),e._v(" "),e.results?e._e():r("div",{staticClass:"big-list"})],1)])},[],!1,null,"89d0677e",null));t.default=te.exports}}]);