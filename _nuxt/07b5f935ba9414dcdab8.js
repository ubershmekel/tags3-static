(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{186:function(e,t,r){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",function(){return o})},187:function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"d",function(){return c}),r.d(t,"b",function(){return l}),r.d(t,"c",function(){return d});r(112);var n=r(6);r(75);function o(e){return e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"G":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e}function c(e){"object"!==Object(n.a)(e)&&(e=new Date(e));var t,r=Math.floor((+new Date-+e)/1e3),o=Math.floor(r/31536e3);return o>=1?t="year":(o=Math.floor(r/2592e3))>=1?t="month":(o=Math.floor(r/86400))>=1?t="day":(o=Math.floor(r/3600))>=1?t="hour":(o=Math.floor(r/60))>=1?t="minute":(o=r,t="second"),(o>1||0===o)&&(t+="s"),o+" "+t}function l(e,t,r){return e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),r)}function d(e){return Math.round(100*e)/100}},188:function(e,t,r){var content=r(192);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("5c98055f",content,!0,{sourceMap:!1})},191:function(e,t,r){"use strict";var n=r(188);r.n(n).a},192:function(e,t,r){(e.exports=r(22)(!1)).push([e.i,".item[data-v-0caa82d2]{border-radius:4px;padding:4px;background-color:#333;margin:1em;border-left:1px solid #ddd;display:flex;flex-direction:row;align-items:flex-start}.domain[data-v-0caa82d2]{opacity:.6}.item-title[data-v-0caa82d2]{display:block}.item-meta[data-v-0caa82d2]{color:#999}.item-info[data-v-0caa82d2]{vertical-align:top;margin-left:.5em}.item-thumb-container[data-v-0caa82d2]{height:80px;width:80px;min-width:80px;background-color:hsla(0,0%,48.2%,.2)}.item-thumb[data-v-0caa82d2]{width:80px;height:80px;-o-object-fit:cover;object-fit:cover}.stats[data-v-0caa82d2]{opacity:.6}table[data-v-0caa82d2]{border-collapse:collapse;margin-bottom:10px;width:100%}td[data-v-0caa82d2],th[data-v-0caa82d2]{padding:6px;text-align:left}th[data-v-0caa82d2]{border-bottom:1px solid #333}tbody tr[data-v-0caa82d2]:nth-child(odd){background-color:#1a1a1a}",""])},194:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r(60);var n=r(8),o=r(77),c=r.n(o),l="https://us-east1-ubershmekel.cloudfunctions.net/tags3-api?q=";function d(e){return f.apply(this,arguments)}function f(){return(f=Object(n.a)(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={results:null,error:null},n={validateStatus:function(e){return!0}},performance.now(),e.prev=3,e.next=6,c.a.get(l+encodeURI(t),n);case 6:o=e.sent,console.log("query res",o),o.data.error?r.error=o.data.error:r.results=o.data,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Failed to fetch query",e.t0),e.t0&&e.t0.message?r.error=e.t0.message:r.error=""+e.t0;case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}},e,null,[[3,11]])}))).apply(this,arguments)}},196:function(e,t,r){var content=r(217);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("f66beee2",content,!0,{sourceMap:!1})},197:function(e,t,r){var content=r(219);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("09ad94a5",content,!0,{sourceMap:!1})},200:function(e,t,r){"use strict";r(43),r(19),r(76);var n=r(39),o=r(186),c=r(41),l=r(40),d=r(42),f=r(6),h=r(24),v=r(187),y=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},m=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"truncate",value:function(e){var text=String(e);return text.length>100&&(text=text.slice(0,100)+" [...]"),text}},{key:"sortedKeys",value:function(){var e=Object.keys(this.$props.results[0]);return e.sort(),e=e.filter(function(e){return"audio_url"!==e&&"is_collection"!==e})}}]),t}(h.Vue),O=m=y([Object(h.Component)({props:{results:Array,options:Object},methods:{compactNumber:v.a,timeSince:v.d}})],m),j=(r(191),r(11)),component=Object(j.a)(O,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("table",{staticClass:"query-results-table"},[r("thead",{staticClass:"table-header"},[r("tr",e._l(e.sortedKeys(),function(t){return r("th",{key:t},[e._v(e._s(t))])}),0)]),e._v(" "),r("tbody",e._l(e.results,function(t,n){return r("tr",{key:n,staticClass:"item-row"},e._l(e.sortedKeys(),function(o){return r("td",{key:n+"-"+o,staticClass:"item-cell",attrs:{title:t[o]}},[e._v("\n        "+e._s(e.truncate(t[o]))+"\n      ")])}),0)}),0)])},[],!1,null,"0caa82d2",null);t.a=component.exports},216:function(e,t,r){"use strict";var n=r(196);r.n(n).a},217:function(e,t,r){(e.exports=r(22)(!1)).push([e.i,".error[data-v-578a232c]{color:red}",""])},218:function(e,t,r){"use strict";var n=r(197);r.n(n).a},219:function(e,t,r){(e.exports=r(22)(!1)).push([e.i,"h3[data-v-ff54e654]{border-top:2px solid #999}",""])},227:function(e,t,r){"use strict";r.r(t);var n=r(39),o=r(41),c=r(40),l=r(42),d=r(6),f=r(24),h=(r(60),r(8)),v=r(186),y=r(200),m=r(194),O=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},j=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).apply(this,arguments))).results=null,e.error="",e}return Object(l.a)(t,e),Object(v.a)(t,[{key:"created",value:function(){var e=Object(h.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)(this.query);case 2:(t=e.sent).results?this.results=t.results||"":this.error=t.error||"";case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(f.Vue);O([Object(f.Prop)(String)],j.prototype,"query",void 0);var x=j=O([Object(f.Component)({methods:{},components:{QueryTable:y.a}})],j),_=(r(216),r(11)),R=Object(_.a)(x,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.results?r("QueryTable",{attrs:{results:e.results}}):e._e(),e._v(" "),e.error?r("div",{staticClass:"error"},[e._v(e._s(e.error))]):e._e()],1)},[],!1,null,"578a232c",null).exports,k=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},w=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),t}(f.Vue),E=w=k([Object(f.Component)({components:{QueryFetchTable:R}})],w),C=(r(218),Object(_.a)(E,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("h2",[e._v("Status")]),e._v(" "),r("h3",[e._v("Totals")]),e._v(" "),r("QueryFetchTable",{attrs:{query:"SELECT domain, COUNT(*) FROM url GROUP BY domain"}}),e._v(" "),r("h3",[e._v("Last 6 hours")]),e._v(" "),r("QueryFetchTable",{attrs:{query:"SELECT domain, COUNT(*) FROM url WHERE timestamp > NOW() - INTERVAL '6 hours' GROUP BY domain"}}),e._v(" "),r("h3",[e._v("By likes")]),e._v(" "),r("QueryFetchTable",{attrs:{query:"SELECT domain, CASE WHEN likes > 0 THEN ROUND(LOG(likes)) ELSE 0 END AS loglikes, COUNT(*) FROM url GROUP BY loglikes, domain ORDER BY loglikes DESC"}})],1)},[],!1,null,"ff54e654",null));t.default=C.exports}}]);