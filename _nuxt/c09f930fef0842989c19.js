(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{186:function(t,e,r){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}r.d(e,"a",function(){return o})},187:function(t,e,r){"use strict";r.d(e,"c",function(){return l}),r.d(e,"g",function(){return d}),r.d(e,"e",function(){return f}),r.d(e,"f",function(){return h}),r.d(e,"h",function(){return v}),r.d(e,"d",function(){return m}),r.d(e,"b",function(){return y}),r.d(e,"a",function(){return O});var n=r(39),o=r(186),c=(r(112),r(113),r(6));r(75);function l(t){return t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"G":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t}function d(t){"object"!==Object(c.a)(t)&&(t=new Date(t));var e,r=Math.floor((+new Date-+t)/1e3),n=Math.floor(r/31536e3);return n>=1?e="year":(n=Math.floor(r/2592e3))>=1?e="month":(n=Math.floor(r/86400))>=1?e="day":(n=Math.floor(r/3600))>=1?e="hour":(n=Math.floor(r/60))>=1?e="minute":(n=r,e="second"),(n>1||0===n)&&(e+="s"),n+" "+e}function f(t,e,r){return t.replace(new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),r)}function h(t){return Math.round(100*t)/100}function v(t){return"https://www.youtube.com/embed/"+m(t)+"?autoplay=1"}function m(t){var e=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return e&&11===e[2].length?e[2]:"error"}var y=function(){function t(e){var r=e.endCallback,o=e.durationMs;Object(n.a)(this,t),this.start=new Date,this.durationMs=o,this.endCallback=r,this.timerId=window.setTimeout(r,o)}return Object(o.a)(t,[{key:"isActive",value:function(){return!!(this.timerId&&this.percentProgress()<100)}},{key:"cancel",value:function(){if(null===this.timerId)throw new Error("Double cancel of timer");window.clearTimeout(this.timerId),this.timerId=null}},{key:"percentProgress",value:function(){var t=(Date.now()-this.start.getTime())/this.durationMs*100;return t>100?100:t}}]),t}(),O=function(){function t(e){var r=e.durationMs,o=e.progressCallback;Object(n.a)(this,t),this.start=new Date,this.durationMs=r,this.progressCallback=o,this.intervalId=window.setInterval(o,r)}return Object(o.a)(t,[{key:"cancel",value:function(){if(null===this.intervalId)throw new Error("Double cancel of timer");window.clearInterval(this.intervalId),this.intervalId=null}}]),t}()},188:function(t,e,r){var content=r(196);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("5c98055f",content,!0,{sourceMap:!1})},189:function(t,e,r){"use strict";r.d(e,"a",function(){return d});r(60);var n=r(8),o=r(76),c=r.n(o),l="https://us-east1-ubershmekel.cloudfunctions.net/tags3-api?q=";function d(t){return f.apply(this,arguments)}function f(){return(f=Object(n.a)(regeneratorRuntime.mark(function t(e){var r,n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={results:null,error:null},n={validateStatus:function(t){return!0}},performance.now(),t.prev=3,t.next=6,c.a.get(l+encodeURI(e),n);case 6:o=t.sent,console.log("query res",o),o.data.error?r.error=o.data.error:r.results=o.data,t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.error("Failed to fetch query",t.t0),t.t0&&t.t0.message?r.error=t.t0.message:r.error=""+t.t0;case 15:return t.abrupt("return",r);case 16:case"end":return t.stop()}},t,null,[[3,11]])}))).apply(this,arguments)}},195:function(t,e,r){"use strict";var n=r(188);r.n(n).a},196:function(t,e,r){(t.exports=r(22)(!1)).push([t.i,".item[data-v-0caa82d2]{border-radius:4px;padding:4px;background-color:#333;margin:1em;border-left:1px solid #ddd;display:flex;flex-direction:row;align-items:flex-start}.domain[data-v-0caa82d2]{opacity:.6}.item-title[data-v-0caa82d2]{display:block}.item-meta[data-v-0caa82d2]{color:#999}.item-info[data-v-0caa82d2]{vertical-align:top;margin-left:.5em}.item-thumb-container[data-v-0caa82d2]{height:80px;width:80px;min-width:80px;background-color:hsla(0,0%,48.2%,.2)}.item-thumb[data-v-0caa82d2]{width:80px;height:80px;-o-object-fit:cover;object-fit:cover}.stats[data-v-0caa82d2]{opacity:.6}table[data-v-0caa82d2]{border-collapse:collapse;margin-bottom:10px;width:100%}td[data-v-0caa82d2],th[data-v-0caa82d2]{padding:6px;text-align:left}th[data-v-0caa82d2]{border-bottom:1px solid #333}tbody tr[data-v-0caa82d2]:nth-child(odd){background-color:#1a1a1a}",""])},199:function(t,e,r){var content=r(229);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("52024e42",content,!0,{sourceMap:!1})},200:function(t,e,r){var content=r(231);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("a4b24bb6",content,!0,{sourceMap:!1})},205:function(t,e,r){"use strict";r(43),r(19),r(77);var n=r(39),o=r(186),c=r(41),l=r(40),d=r(42),f=r(6),h=r(24),v=r(187),m=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},y=function(t){function e(){return Object(n.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(o.a)(e,[{key:"truncate",value:function(t){var text=String(t);return text.length>100&&(text=text.slice(0,100)+" [...]"),text}},{key:"sortedKeys",value:function(){var t=Object.keys(this.$props.results[0]);return t.sort(),t=t.filter(function(t){return"audio_url"!==t&&"is_collection"!==t})}}]),e}(h.Vue),O=y=m([Object(h.Component)({props:{results:Array,options:Object},methods:{compactNumber:v.c,timeSince:v.g}})],y),j=(r(195),r(11)),component=Object(j.a)(O,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",{staticClass:"query-results-table"},[r("thead",{staticClass:"table-header"},[r("tr",t._l(t.sortedKeys(),function(e){return r("th",{key:e},[t._v(t._s(e))])}),0)]),t._v(" "),r("tbody",t._l(t.results,function(e,n){return r("tr",{key:n,staticClass:"item-row"},t._l(t.sortedKeys(),function(o){return r("td",{key:n+"-"+o,staticClass:"item-cell",attrs:{title:e[o]}},[t._v("\n        "+t._s(t.truncate(e[o]))+"\n      ")])}),0)}),0)])},[],!1,null,"0caa82d2",null);e.a=component.exports},228:function(t,e,r){"use strict";var n=r(199);r.n(n).a},229:function(t,e,r){(t.exports=r(22)(!1)).push([t.i,".error[data-v-77629c04]{color:red}",""])},230:function(t,e,r){"use strict";var n=r(200);r.n(n).a},231:function(t,e,r){(t.exports=r(22)(!1)).push([t.i,"h3[data-v-4ca9d70e]{border-top:2px solid #999}",""])},243:function(t,e,r){"use strict";r.r(e);var n=r(39),o=r(41),c=r(40),l=r(42),d=r(6),f=r(24),h=(r(60),r(8)),v=r(186),m=r(205),y=r(189),O=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},j=function(t){function e(){var t;return Object(n.a)(this,e),(t=Object(o.a)(this,Object(c.a)(e).apply(this,arguments))).results=null,t.error="",t}return Object(l.a)(e,t),Object(v.a)(e,[{key:"created",value:function(){var t=Object(h.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.a)(this.query);case 2:(e=t.sent).results?this.results=e.results||"":this.error=e.error||"";case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(f.Vue);O([Object(f.Prop)(String)],j.prototype,"query",void 0);var w=j=O([Object(f.Component)({methods:{},components:{QueryTable:m.a}})],j),x=(r(228),r(11)),k=Object(x.a)(w,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.results?r("QueryTable",{attrs:{results:t.results}}):t._e(),t._v(" "),t.error?r("div",{staticClass:"error"},[t._v(t._s(t.error))]):t._e()],1)},[],!1,null,"77629c04",null).exports,_=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},R=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(l.a)(e,t),e}(f.Vue),E=R=_([Object(f.Component)({components:{QueryFetchTable:k}})],R),C=(r(230),Object(x.a)(E,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("h2",[t._v("Status")]),t._v(" "),r("h3",[t._v("Totals")]),t._v(" "),r("QueryFetchTable",{attrs:{query:"SELECT domain, COUNT(*) FROM url GROUP BY domain"}}),t._v(" "),r("h3",[t._v("Last 6 hours")]),t._v(" "),r("QueryFetchTable",{attrs:{query:"SELECT domain, COUNT(*) FROM url WHERE timestamp > NOW() - INTERVAL '6 hours' GROUP BY domain"}}),t._v(" "),r("h3",[t._v("By likes")]),t._v(" "),r("QueryFetchTable",{attrs:{query:"SELECT domain, CASE WHEN likes > 0 THEN ROUND(LOG(likes)) ELSE 0 END AS loglikes, COUNT(*) FROM url GROUP BY loglikes, domain ORDER BY loglikes DESC"}})],1)},[],!1,null,"4ca9d70e",null));e.default=C.exports}}]);