/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{197:function(e,t,r){var content=r(243);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(24).default)("79df04eb",content,!0,{sourceMap:!1})},204:function(e,t,r){var content=r(258);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(24).default)("1d0eb875",content,!0,{sourceMap:!1})},205:function(e,t,r){var content=r(260);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(24).default)("39d54363",content,!0,{sourceMap:!1})},206:function(e,t,r){var content=r(263);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(24).default)("22293e47",content,!0,{sourceMap:!1})},219:function(e,t,r){e.exports=r.p+"img/034b164.svg"},242:function(e,t,r){"use strict";var n=r(197);r.n(n).a},243:function(e,t,r){(e.exports=r(23)(!1)).push([e.i,'.featured-item[data-v-1b81f66c],.featured-query[data-v-1b81f66c]{position:relative}.featured-item[data-v-1b81f66c]{display:inline-block;width:200px;height:140px;background-color:rgba(0,255,255,.1);overflow:hidden;border-radius:10px;border-bottom:1px solid #fff;border-top:1px solid #3bf2ea;box-sizing:border-box}.featured-item[data-v-1b81f66c]:after{content:"";position:absolute;top:0;left:0;pointer-events:none;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.6));width:100%;height:100%;z-index:1}.featured-thumb[data-v-1b81f66c]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.featured-item-title[data-v-1b81f66c]{bottom:.2em;padding:0 .2em}.featured-item-domain[data-v-1b81f66c],.featured-item-title[data-v-1b81f66c]{position:absolute;left:0;z-index:2;width:100%;line-height:1.2em;max-height:2.4em;box-sizing:border-box}.featured-item-domain[data-v-1b81f66c]{top:.2em}.domain-icon[data-v-1b81f66c]{width:16px;height:16px}.unsafe-button[data-v-1b81f66c]{width:100%}',""])},254:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMzAiIGhlaWdodD0iMzMwIiB2aWV3Qm94PSIwIDAgODcuMzEyIDg3LjMxMiI+PGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjE1Ljg3NSI+PHBhdGggZD0iTTM0LjM5NiA3OS4zNzVINy45MzdWNTIuOTE3TTUyLjkxNyA3OS4zNzVoMjYuNDU4VjUyLjkxN00zNC4zOTYgNy45MzhINy45Mzd2MjYuNDU4TTUyLjkxNyA3LjkzOGgyNi40NTh2MjYuNDU4Ii8+PC9nPjwvc3ZnPg=="},255:function(e,t,r){e.exports=r.p+"img/b3f7916.svg"},256:function(e,t,r){e.exports=r.p+"img/9eb5228.svg"},257:function(e,t,r){"use strict";var n=r(204);r.n(n).a},258:function(e,t,r){(e.exports=r(23)(!1)).push([e.i,'.domain[data-v-666b34ae]{opacity:.6}.item-title[data-v-666b34ae]{display:block}.item-meta[data-v-666b34ae]{color:#fff}.item-info[data-v-666b34ae]{vertical-align:top;margin-left:.5em}.item-thumb-container[data-v-666b34ae]{height:80px;width:80px;min-width:80px;background-color:hsla(0,0%,48.2%,.2)}.item-thumb[data-v-666b34ae]{width:80px;height:80px;-o-object-fit:cover;object-fit:cover}.stats[data-v-666b34ae]{opacity:.6}.slideshow[data-v-666b34ae]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000}.slide-controls[data-v-666b34ae]{position:absolute;background-color:rgba(0,0,0,.5);color:#fff;z-index:1}.slideshow-image[data-v-666b34ae],.slideshow-video[data-v-666b34ae]{display:block;margin:auto;-o-object-fit:contain;object-fit:contain;height:100%;width:100%}.slideshow-thumb[data-v-666b34ae]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;position:fixed;top:0;left:0;z-index:-1;-webkit-filter:blur(20px);filter:blur(20px)}.slideshow-typography[data-v-666b34ae]{font-size:3em;display:flex;justify-content:center;align-items:center;height:100%;width:100%;text-align:center;padding:1em;box-sizing:border-box}.fade-enter-active[data-v-666b34ae],.fade-leave-active[data-v-666b34ae]{transition:opacity .5s}.fade-enter[data-v-666b34ae],.fade-leave[data-v-666b34ae]{opacity:0}button[data-v-666b34ae]{position:relative;overflow:hidden}.pause-after[data-v-666b34ae]{content:"";position:absolute;border-bottom:4px solid hsla(0,0%,100%,.3);bottom:0;left:0;height:100%}.button-img[data-v-666b34ae],img.fullscreen[data-v-666b34ae]{height:1em;width:1em;position:relative;top:.153em}.slideshow-youtube[data-v-666b34ae]{width:100%;height:100%}',""])},259:function(e,t,r){"use strict";var n=r(205);r.n(n).a},260:function(e,t,r){(e.exports=r(23)(!1)).push([e.i,".error[data-v-16653a9f]{font-size:2em;color:red}.success[data-v-16653a9f]{font-size:2em;color:#0f0}.notify-form[data-v-16653a9f]{margin:1em;padding:1em;box-shadow:0 0 13px 0 #fff}input[type=email][data-v-16653a9f]{width:100%;box-sizing:border-box}",""])},262:function(e,t,r){"use strict";var n=r(206);r.n(n).a},263:function(e,t,r){(e.exports=r(23)(!1)).push([e.i,".query-input{width:100%;box-sizing:border-box}.error{color:red;font-size:2em}hr{border:none;border-top:1px solid #333}.display-controls label{margin-right:.5em;white-space:nowrap}.spinner{width:100px}.stats{color:#999}.big-list{min-height:100vh}@-webkit-keyframes shadow-pulse-big{0%{box-shadow:0 0 0 0 hsla(0,0%,100%,.5)}to{box-shadow:0 0 0 40px transparent}}@keyframes shadow-pulse-big{0%{box-shadow:0 0 0 0 hsla(0,0%,100%,.5)}to{box-shadow:0 0 0 40px transparent}}.subscribe{-webkit-animation:shadow-pulse-big 4s 1;animation:shadow-pulse-big 4s 1}input[type=range]{-webkit-appearance:none;margin:0}input[type=range]:focus{outline:none}input[type=range]::-webkit-slider-runnable-track{width:100%;height:32px;cursor:pointer;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;background:#333;border-radius:0;border:0 solid #010101}input[type=range]::-webkit-slider-thumb{box-shadow:.8px .8px 1.9px rgba(0,0,62,.67),0 0 .8px rgba(0,0,88,.67);border:1.9px solid rgba(0,30,0,.57);height:32px;width:32px;border-radius:4px;background:#3bf2ea;cursor:pointer;-webkit-appearance:none;margin-top:0}input[type=range]:focus::-webkit-slider-runnable-track{background:ivory}input[type=range]::-moz-range-track{width:100%;height:32px;cursor:pointer;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;background:#ffffd6;border-radius:0;border:0 solid #010101}input[type=range]::-moz-range-thumb{box-shadow:.8px .8px 1.9px rgba(0,0,62,.67),0 0 .8px rgba(0,0,88,.67);border:1.9px solid rgba(0,30,0,.57);height:32px;width:32px;border-radius:4px;background:#3bf2ea;cursor:pointer}input[type=range]::-ms-track{width:100%;height:32px;cursor:pointer;background:transparent;border-color:transparent;color:transparent}input[type=range]::-ms-fill-lower{background:#ffffbd}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{border:0 solid #010101;border-radius:0;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d}input[type=range]::-ms-fill-upper{background:#ffffd6}input[type=range]::-ms-thumb{box-shadow:.8px .8px 1.9px rgba(0,0,62,.67),0 0 .8px rgba(0,0,88,.67);border:1.9px solid rgba(0,30,0,.57);width:32px;border-radius:4px;background:#3bf2ea;cursor:pointer;height:32px}input[type=range]:focus::-ms-fill-lower{background:#ffffd6}input[type=range]:focus::-ms-fill-upper{background:ivory}#since-slider{width:45%;box-sizing:border-box;display:inline-block}label[for=since]{width:45%;display:inline-block;text-align:left;vertical-align:top;line-height:52px}",""])},281:function(e,t,r){"use strict";r.r(t);r(76),r(61);var n=r(7),o=r(40),l=r(188),c=r(42),d=r(41),h=r(43),m=r(6),f=r(17),y=r(189),v=r(223),w=function(e,t,r,desc){var n,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},x=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),t}(f.Vue),_=x=w([Object(f.Component)({props:{item:Object},methods:{itemChannelName:y.e},components:{}})],x),k=(r(242),r(11)),S=Object(k.a)(_,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"featured-item",attrs:{title:e.itemChannelName(e.item)}},[e.$globals.isItemDecent(e.item)?e._e():n("button",{staticClass:"unsafe-button",on:{click:e.$globals.toggleShowNsfw}},[e._v("Show unsafe?")]),e._v(" "),e.item.thumbnail_url&&e.$globals.isItemDecent(e.item)?n("img",{staticClass:"featured-thumb",attrs:{src:e.item.thumbnail_url,onerror:"this.style.display='none'"}}):e._e(),e._v(" "),n("a",{staticClass:"featured-item-title",attrs:{href:e.item.url,target:"_blank",rel:"noopener noreferrer"}},[n("img",{staticClass:"domain-icon",attrs:{src:r(221)("./"+e.item.domain+".svg")}}),e._v("\n    "+e._s(e.item.title)+"\n  ")])])},[],!1,null,"1b81f66c",null).exports,C=r(224),O=r(226),j=r(194),T=r(227),P=r(193),I=r(220);String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});var N=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\S*[^\w\s-])([\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,$=/t=(\d+)[ms]?(\d+)?s?/;function R(e){var t=e.replace(N,"$1");if(t.includes(";")){var r=t.split(";");if(r[1].includes("%"))t=("http://youtube.com"+decodeURIComponent(r[1])).replace(N,"$1");else t=r[0]}else t.includes("#")&&(t=t.split("#")[0]);return t}function z(e){void 0===e&&(e="");var t=e.match($);if(!t)return 0;var r=t[0],n=t[1],o=t[2];return void 0!==o?(o=parseInt(o,10),n=parseInt(n,10)):r.includes("m")?(n=parseInt(n,10),o=0):(o=parseInt(n,10),n=0),o+60*n}var D={scripts:[],events:{},run:function(){var e=this;this.scripts.forEach(function(t){t(e.YT)}),this.scripts=[]},register:function(e){var t=this;this.YT?this.Vue.nextTick(function(){e(t.YT)}):this.scripts.push(e)}},E=0,M={name:"YoutubeEmbed",props:{playerHeight:{type:[String,Number],default:"360"},playerWidth:{type:[String,Number],default:"640"},playerVars:{type:Object,default:function(){return{autoplay:0,time:0}}},videoId:{type:String},mute:{type:Boolean,default:!1},host:{type:String,default:"https://www.youtube.com"}},render:function(e){return e("div",[e("div",{attrs:{id:this.elementId}})])},template:'<div><div :id="elementId"></div></div>',watch:{playerWidth:"setSize",playerHeight:"setSize",videoId:"update",mute:"setMute"},data:function(){return{elementId:"youtube-player-"+(E+=1),player:{}}},methods:{setSize:function(){this.player.setSize(this.playerWidth,this.playerHeight)},setMute:function(e){e?this.player.mute():this.player.unMute()},update:function(e){var t=(this.playerVars.autoplay?"load":"cue")+"VideoById";this.player.hasOwnProperty(t)?this.player[t](e):setTimeout(function(){this.update(e)}.bind(this),100)}},mounted:function(){var e=this;D.register(function(t){var r=e,n=r.playerHeight,o=r.playerWidth,l=r.playerVars,c=r.videoId,d=r.host;e.player=new t.Player(e.elementId,{height:n,width:o,playerVars:l,videoId:c,host:d,events:{onReady:function(t){e.setMute(e.mute),e.$emit("ready",t)},onStateChange:function(t){-1!==t.data&&e.$emit(D.events[t.data],t)},onError:function(t){e.$emit("error",t)}}})})},beforeDestroy:function(){null!==this.player&&this.player.destroy&&this.player.destroy(),delete this.player}},Q={install:function(e,t){void 0===t&&(t={}),D.Vue=e,M.ready=M.mounted;var r=t.global;void 0===r&&(r=!0);var n=t.componentId;if(void 0===n&&(n="youtube"),r&&e.component(n,M),e.prototype.$youtube={getIdFromURL:R,getTimeFromURL:z},"undefined"!=typeof window&&"undefined"!=typeof document){var o=document.createElement("script");o.src="https://www.youtube.com/player_api";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(o,l),window.onYouTubeIframeAPIReady=function(){D.YT=YT;var e=YT.PlayerState;D.events[e.ENDED]="ended",D.events[e.PLAYING]="playing",D.events[e.PAUSED]="paused",D.events[e.BUFFERING]="buffering",D.events[e.CUED]="cued",D.Vue.nextTick(function(){D.run()})}}}},F=function(e,t,r,desc){var n,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l};f.Vue.use(Q);var U=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).apply(this,arguments))).currentSlide=0,e.minControls=!1,e.mute=!0,e.autoPlay=!0,e.nextSlideTimer=null,e.progressUpdateInterval=null,e.progressPercent=0,e.nextSlideDelayMs=8e3,e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"toggleMinControls",value:function(){this.minControls=!this.minControls}},{key:"updateProgressPercent",value:function(){this.autoPlay||(this.progressPercent=0),this.nextSlideTimer&&(this.progressPercent=this.nextSlideTimer.percentProgress()),this.isVideoSlide()&&(this.progressPercent=this.$refs.videoPlayer.progress())}},{key:"closeSlideshow",value:function(){console.log("Sending close slideshow event"),this.$emit("close-slideshow")}},{key:"isVideoSlide",value:function(){return!(!this.item.video_url&&"youtube.com"!==this.item.domain)}},{key:"resetAutoPlayTimer",value:function(){if(this.nextSlideTimer&&(this.nextSlideTimer.cancel(),this.nextSlideTimer=null,this.progressPercent=0),this.autoPlay){if(this.isVideoSlide())return;this.nextSlideTimer=new y.b({endCallback:this.nextSlide,durationMs:this.nextSlideDelayMs})}}},{key:"eventToggleFullScreen",value:function(e){var t;t=document.body,V()?Y():function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():console.warn("Did not find request full screen method",e)}(t||document.body)}},{key:"nextSlide",value:function(){this.setCurrentSlide(this.currentSlide+1)}},{key:"prevSlide",value:function(){this.setCurrentSlide(this.currentSlide-1)}},{key:"setCurrentSlide",value:function(e){this.currentSlide=A(e,this.results.length),this.resetAutoPlayTimer();var t=A(this.currentSlide+1,this.results.length),r=this.results[t].image_url;r&&document.createElement("img").setAttribute("src",r)}},{key:"handleKeyEvent",value:function(e){var t=Object(I.b)(e);switch(t){case"m":this.toggleMute();break;case"f":this.eventToggleFullScreen();break;case"a":this.togglePausePlay();break;case"h":this.toggleMinControls();break;case"arrowleft":this.prevSlide();break;case"arrowright":case"enter":this.nextSlide();break;case"pagedown":this.setCurrentSlide(this.currentSlide+10);break;case"pageup":this.setCurrentSlide(this.currentSlide-10);break;case"home":this.setCurrentSlide(0);break;case"end":this.setCurrentSlide(-1);break;case"c":this.minControls=!this.minControls;break;case"escape":this.closeSlideshow()}console.log("key",t)}},{key:"toggleMute",value:function(){this.mute=!this.mute}},{key:"togglePausePlay",value:function(){this.autoPlay=!this.autoPlay,this.resetAutoPlayTimer()}},{key:"videoEnded",value:function(e){console.log("Vidended",e),this.autoPlay&&this.nextSlide()}},{key:"toggleNextSlideDelay",value:function(e){this.nextSlideDelayMs=2*this.nextSlideDelayMs,this.nextSlideDelayMs>32e3&&(this.nextSlideDelayMs=1e3)}},{key:"created",value:function(){console.log("Slideshow create",this.$data),Object(I.a)(this.handleKeyEvent);var e=document.activeElement;e&&e.blur(),this.setCurrentSlide(0),this.progressUpdateInterval=new y.a({durationMs:30,progressCallback:this.updateProgressPercent})}},{key:"destroyed",value:function(){console.log("Slideshow destroy"),Object(I.c)(this.handleKeyEvent),this.progressUpdateInterval&&this.progressUpdateInterval.cancel(),V()&&Y()}},{key:"item",get:function(){return this.results?this.results[this.currentSlide]:null}}]),t}(f.Vue);function A(a,b){return(a%b+b)%b}function V(){var e=window.document;return e.fullscreenElement&&null!==e.fullscreenElement||e.webkitFullscreenElement&&null!==e.webkitFullscreenElement||e.mozFullScreenElement&&null!==e.mozFullScreenElement||e.msFullscreenElement&&null!==e.msFullscreenElement}function Y(){var e=window.document;e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen()}F([Object(f.Prop)(Array)],U.prototype,"results",void 0),F([Object(f.Prop)(Object)],U.prototype,"options",void 0);var H=U=F([Object(f.Component)({methods:{compactNumber:y.c,timeSince:y.i,youtubeEmbedUrl:y.j,getYoutubeId:y.d},components:{Video:T.a,EmbedInfo:P.a}})],U),W=(r(257),Object(k.a)(H,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item?n("div",{staticClass:"slideshow"},[n("div",{staticClass:"slide-controls"},[e.minControls?e._e():n("span",[n("button",{attrs:{title:"close and edit query"},on:{click:e.closeSlideshow}},[e._v("x")]),e._v(" "),n("button",{attrs:{title:"previous"},on:{click:e.prevSlide}},[e._v("‚¨Ö")]),e._v(" "),n("button",{staticClass:"current-slide",attrs:{disabled:""}},[e._v(e._s(e.currentSlide))]),e._v(" "),n("button",{attrs:{title:"next"},on:{click:e.nextSlide}},[e._v("‚û°")]),e._v(" "),n("button",{attrs:{title:"mute [m]"},on:{click:e.toggleMute}},[e._v(e._s(e.mute?"üîá":"üîä"))]),e._v(" "),n("button",{staticClass:"pause",attrs:{title:"pause/play [a]"},on:{click:e.togglePausePlay}},[e._v(e._s(e.autoPlay?"‚è∏":"‚ñ∂Ô∏è")),n("div",{staticClass:"pause-after",style:"width:"+e.progressPercent+"%"})]),e._v(" "),n("button",{staticClass:"delay",attrs:{title:"Seconds between slides"},on:{click:e.toggleNextSlideDelay}},[e._v(e._s(e.nextSlideDelayMs/1e3)+" seconds")]),e._v(" "),n("button",{attrs:{title:"full screen [f]"},on:{click:e.eventToggleFullScreen}},[n("img",{staticClass:"fullscreen",attrs:{src:r(254)}})])]),e._v(" "),n("button",{staticClass:"minimizer",attrs:{title:"hide controls"},on:{click:e.toggleMinControls}},[e.minControls?n("img",{staticClass:"button-img",attrs:{src:r(255)}}):e._e(),e._v(" "),e.minControls?e._e():n("img",{staticClass:"button-img",attrs:{src:r(256)}})]),e._v(" "),e.minControls?e._e():n("EmbedInfo",{attrs:{item:e.item}})],1),e._v(" "),e.item.video_url?n("Video",{key:e.item.video_url,ref:"videoPlayer",staticClass:"slideshow-video",attrs:{autoplay:"",playsinline:"",loop:"",controls:"",mute:e.mute,"video-url":e.item.video_url,"on-ended":e.videoEnded}}):e._e(),e._v(" "),e.item.image_url?n("img",{key:e.item.image_url,staticClass:"slideshow-image",attrs:{src:e.item.image_url,onerror:"this.style.display='none'"}}):e._e(),e._v(" "),e.item.thumbnail_url?n("img",{staticClass:"slideshow-thumb",attrs:{src:e.item.thumbnail_url,onerror:"this.style.display='none'"}}):e._e(),e._v(" "),e.item.thumbnail_url||e.item.image_url||e.item.video_url?e._e():n("div",{staticClass:"slideshow-typography"},[e._v("\n    "+e._s(e.item.title)+"\n  ")]),e._v(" "),"youtube.com"===e.item.domain?n("youtube",{staticClass:"slideshow-video",attrs:{"video-id":e.getYoutubeId(e.item.url),"player-width":"100%","player-height":"100%","player-vars":{autoplay:1}},on:{ended:e.videoEnded}}):e._e()],1):e._e()},[],!1,null,"666b34ae",null).exports),B=(r(83),r(190)),L=function(e,t,r,desc){var n,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},Z=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).apply(this,arguments))).email="",e.error="",e.success="",e.inProgress=!1,e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"mounted",value:function(){this.$refs.emailInput.focus()}},{key:"findFormErrors",value:function(){if(this.email.indexOf("@")<0)return"Where's your email's @ symbol?";var e=this.email.split("@");return e.length<2?"Missing something in your email address?":e[1].indexOf(".")<0?"There must be a dot somewhere in your email domain...":e[1].length<4?"That email domain seems too short":this.query.length<4?"Your query seems off, maybe this is a bug you should report?":void 0}},{key:"submit",value:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.error="",this.success="",!(t=this.findFormErrors())){e.next=6;break}return this.error=t,e.abrupt("return");case 6:return console.log("Submitting: "+this.email+" for: "+this.query),this.inProgress=!0,e.prev=8,e.next=11,Object(B.c)({email:this.email,query:this.query});case 11:(r=e.sent).error&&(this.error="Failed to subscribe: "+r.error),r.success&&(this.success=r.success),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),this.error="Unexpected failure subscribing: "+e.t0;case 19:return this.inProgress=!1,e.abrupt("return",!1);case 21:case"end":return e.stop()}},e,this,[[8,16]])}));return function(){return e.apply(this,arguments)}}()}]),t}(f.Vue);L([Object(f.Prop)(String)],Z.prototype,"query",void 0);var G=Z=L([Object(f.Component)({methods:{}})],Z),K=(r(259),Object(k.a)(G,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{staticClass:"notify-form",attrs:{onsubmit:"return false;"}},[n("label",{staticClass:"input-label",attrs:{for:"email"}},[e._v("Enter your email address to get notified when this feed updates")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],ref:"emailInput",attrs:{name:"email",placeholder:"your@email.com",type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("button",{attrs:{title:"Subscribe to query"},on:{click:e.submit}},[e._v("OK")]),e._v(" "),e.error?n("div",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),e._v(" "),e.success?n("div",{staticClass:"success"},[e._v(e._s(e.success))]):e._e(),e._v(" "),e.inProgress?n("img",{staticClass:"spinner",attrs:{src:r(219)}}):e._e()])])},[],!1,null,"16653a9f",null).exports),J=r(37),X=r(222),ee=function(e,t,r,desc){var n,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l};var te=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).apply(this,arguments))).query="",e.results=null,e.error="",e.queryDuration=null,e.options={noThumbnails:!1,ui:"cards",unsafeContent:Object(J.a)()},e.sinceSliderIndexStr="",e.fetchingQuery="",e.fetchedQuery="",e.showSubscribe=!1,e.queryTitle="",e.sliderOptions=ne,e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"fetch",value:function(e){}},{key:"asyncData",value:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r,title,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.route.query.q,title=t.route.query.t,n=se(r),console.log("AsyncData, perhaps stale title then query:",title,r),e.abrupt("return",{query:r,title:title,options:n,sinceSliderIndexStr:oe(r)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return!0}},{key:"queryToUiOption",value:function(e){return e.indexOf(X.a.showTable)>=0?"table":e.indexOf(X.a.slideShow)>=0?"slideshow":e.indexOf(X.a.hugecards)>=0?"hugecards":e.indexOf(X.a.tiles)>=0?"tiles":"cards"}},{key:"setOptionsFromQuery",value:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Setting options from query"),this.query.indexOf(X.a.noThumbnails)>=0?this.options.noThumbnails=!0:this.options.noThumbnails=!1,this.options.ui=this.queryToUiOption(this.query);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchQueryData",value:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r,n,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("fetchQueryData for query",t),this.error="",r=t,n=Object(X.d)(r),this.fetchedQuery!==n&&this.fetchingQuery!==n){e.next=6;break}return e.abrupt("return");case 6:if("mock"!==n){e.next=9;break}return this.results=ae,e.abrupt("return");case 9:if(o=performance.now(),e.prev=10,this.fetchingQuery=n,!(n in re)){e.next=16;break}l=re[n],e.next=19;break;case 16:return e.next=18,Object(B.a)(n);case 18:l=e.sent;case 19:this.queryDuration=performance.now()-o,this.fetchingQuery="",this.fetchedQuery=n,l.error?this.error=l.error:(re[n]=l,this.results=l.results),e.next=31;break;case 25:return e.prev=25,e.t0=e.catch(10),this.fetchingQuery="",console.error("Failed to fetch query",e.t0),e.t0&&e.t0.message?this.error=e.t0.message:this.error=""+e.t0,e.abrupt("return");case 31:case"end":return e.stop()}},e,this,[[10,25]])}));return function(t){return e.apply(this,arguments)}}()},{key:"created",value:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("created",this.$route.query),this.$route.query.q?this.query=this.$route.query.q:this.query="",this.$route.query.t&&(this.queryTitle=this.$route.query.t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setQueryCommand",value:function(e,t,r){console.log("setQueryCommand",t,r);var n=e.indexOf(r)>=0;return t&&!n&&(e=e+" "+r),!t&&n&&(e=Object(y.g)(e," "+r,"")),e}},{key:"onResultsChanged",value:function(e,t){console.log("Results changed",t,e)}},{key:"onNoThumbnailsChanged",value:function(e,t){this.query=this.setQueryCommand(this.query,e,X.a.noThumbnails)}},{key:"onShowTableChanged",value:function(e,t){console.log("New ui options ".concat(t," -> ").concat(e));var r=this.query,n=r;n=this.setQueryCommand(n,!1,X.a.showTable),n=this.setQueryCommand(n,!1,X.a.slideShow),n=this.setQueryCommand(n,!1,X.a.hugecards),n=this.setQueryCommand(n,!1,X.a.tiles),"table"===e?n=this.setQueryCommand(n,!0,X.a.showTable):"slideshow"===e?n=this.setQueryCommand(n,!0,X.a.slideShow):"hugecards"===e?n=this.setQueryCommand(n,!0,X.a.hugecards):"tiles"===e&&(n=this.setQueryCommand(n,!0,X.a.tiles)),this.sinceSliderIndexStr=oe(n),console.log("UI changed query",r,n),this.query=n}},{key:"closeSlideshow",value:function(){console.log("Close slideshow"),this.options.ui="cards"}},{key:"onQueryChanged",value:function(e,t){console.log("Query changed ".concat(t,"  --\x3e  ").concat(e)),this.$route&&this.$route.query&&this.$route.query.q&&this.$route.query.q!==e&&e&&this.$router.replace({path:this.$route.path,query:{q:e}})}},{key:"onUrlChange",value:function(e,t){console.log("url change",t,e),e&&e.query&&e.query.q&&(window.scrollTo(0,0),console.log("Route changed to",e.query))}},{key:"head",value:function(){this.fetchQueryData(this.query);var e=this.query;return this.query||(e="Tagsyo Query"),this.queryTitle&&(e=this.queryTitle),console.log("head title",e),{title:e}}},{key:"sinceSliderChange",value:function(e){var t=this.sliderOptions[+this.sinceSliderIndexStr];console.log("Slider change event",t),this.query=Object(X.e)(this.query,t)}},{key:"sinceSliderTimeText",get:function(){var e=+this.sinceSliderIndexStr;return this.sliderOptions[e]}}]),t}(f.Vue);ee([Object(f.Watch)("results")],te.prototype,"onResultsChanged",null),ee([Object(f.Watch)("options.noThumbnails")],te.prototype,"onNoThumbnailsChanged",null),ee([Object(f.Watch)("options.ui")],te.prototype,"onShowTableChanged",null),ee([Object(f.Watch)("query")],te.prototype,"onQueryChanged",null),ee([Object(f.Watch)("$route",{immediate:!0,deep:!0})],te.prototype,"onUrlChange",null);var ie=te=ee([Object(f.Component)({components:{NotifyForm:K,ItemTile:S,QueryCards:O.a,QueryHugeCards:C.a,QuerySlideshow:W,QueryTable:j.a,SearchBox:v.a},watchQuery:!0,methods:{compactNumber:y.c,timeSince:y.i,roundTwoDecimals:y.h,removeCommands:X.d}})],te),re={};function se(e){var t=Object(X.b)(e),r="cards";return t.showTable?r="table":t.slideShow?r="slideshow":t.hugecards?r="hugecards":t.tiles&&(r="tiles"),{noThumbnails:t.noThumbnails,ui:r,unsafeContent:Object(J.a)()}}var ne=["2 hours","6 hours","12 hours","24 hours","3 days","7 days","14 days","30 days","6 months","1 year","20 years"];function oe(e){var t=Object(X.c)(e);return t?""+ne.indexOf(t):""}var ae=[{url:"/",channel:"mock-channel",user:"mock-user",domain:"mock-domain",timestamp:new Date("2019"),title:"mock title",likes:13,views:37}],le=ie,ue=(r(262),Object(k.a)(le,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"data-controls"},[e.queryTitle?n("h2",[e._v(e._s(e.queryTitle))]):e._e(),e._v(" "),e.query.indexOf("timestamp > ")>=0&&e.sinceSliderTimeText?n("div",{staticClass:"time-since-slider"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.sinceSliderIndexStr,expression:"sinceSliderIndexStr"}],staticClass:"slider",attrs:{type:"range",id:"since-slider",name:"since",min:"0",max:e.sliderOptions.length-1},domProps:{value:e.sinceSliderIndexStr},on:{change:e.sinceSliderChange,__r:function(t){e.sinceSliderIndexStr=t.target.value}}}),e._v(" "),n("label",{attrs:{for:"since"}},[e._v("up to "+e._s(e.sinceSliderTimeText)+" ago")])]):e._e(),e._v(" "),n("SearchBox",{attrs:{value:e.query}})],1),e._v(" "),n("div",{staticClass:"display-controls teal"},[e.results&&e.results.length<6&&e.results.length>1?n("button",{staticClass:"subscribe",attrs:{title:"subscribe"},on:{click:function(t){e.showSubscribe=!e.showSubscribe}}},[e._v("üîî")]):e._e(),e._v(" "),n("label",{staticClass:"pointer",attrs:{for:"noThumbnails"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.options.noThumbnails,expression:"options.noThumbnails"}],attrs:{type:"checkbox",id:"noThumbnails"},domProps:{checked:Array.isArray(e.options.noThumbnails)?e._i(e.options.noThumbnails,null)>-1:e.options.noThumbnails},on:{change:function(t){var r=e.options.noThumbnails,n=t.target,o=!!n.checked;if(Array.isArray(r)){var l=e._i(r,null);n.checked?l<0&&e.$set(e.options,"noThumbnails",r.concat([null])):l>-1&&e.$set(e.options,"noThumbnails",r.slice(0,l).concat(r.slice(l+1)))}else e.$set(e.options,"noThumbnails",o)}}}),e._v("No thumbnails\n    ")]),e._v(" "),n("label",{staticClass:"pointer",attrs:{for:"unsafeContent"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.$globals.showNsfw,expression:"$globals.showNsfw"}],attrs:{type:"checkbox",id:"unsafeContent"},domProps:{checked:Array.isArray(e.$globals.showNsfw)?e._i(e.$globals.showNsfw,null)>-1:e.$globals.showNsfw},on:{change:function(t){var r=e.$globals.showNsfw,n=t.target,o=!!n.checked;if(Array.isArray(r)){var l=e._i(r,null);n.checked?l<0&&e.$set(e.$globals,"showNsfw",r.concat([null])):l>-1&&e.$set(e.$globals,"showNsfw",r.slice(0,l).concat(r.slice(l+1)))}else e.$set(e.$globals,"showNsfw",o)}}}),e._v("Unsafe content\n    ")]),e._v(" "),n("label",{staticClass:"pointer",attrs:{for:"uiTiles"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiTiles",value:"tiles"},domProps:{checked:e._q(e.options.ui,"tiles")},on:{change:function(t){return e.$set(e.options,"ui","tiles")}}}),e._v("Tiles")]),e._v(" "),n("label",{staticClass:"pointer",attrs:{for:"uiCards"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiCards",value:"cards"},domProps:{checked:e._q(e.options.ui,"cards")},on:{change:function(t){return e.$set(e.options,"ui","cards")}}}),e._v("Cards")]),e._v(" "),n("label",{staticClass:"pointer",attrs:{for:"uiHugeCards"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiHugeCards",value:"hugecards"},domProps:{checked:e._q(e.options.ui,"hugecards")},on:{change:function(t){return e.$set(e.options,"ui","hugecards")}}}),e._v("Huge cards")]),e._v(" "),n("label",{staticClass:"pointer",attrs:{for:"uiSlideshow"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiSlideshow",value:"slideshow"},domProps:{checked:e._q(e.options.ui,"slideshow")},on:{change:function(t){return e.$set(e.options,"ui","slideshow")}}}),e._v("Slideshow")]),e._v(" "),n("label",{staticClass:"pointer",attrs:{for:"uiTable"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.options.ui,expression:"options.ui"}],attrs:{type:"radio",id:"uiTable",value:"table"},domProps:{checked:e._q(e.options.ui,"table")},on:{change:function(t){return e.$set(e.options,"ui","table")}}}),e._v("Table")]),e._v(" "),e.queryDuration?n("span",{staticClass:"stats"},[e._v("(took "+e._s(e.roundTwoDecimals(e.queryDuration/1e3))+" s)")]):e._e()]),e._v(" "),e.error?n("div",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),e._v(" "),e.showSubscribe?n("NotifyForm",{attrs:{query:e.query}}):e._e(),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"data-container big-list"},[e.fetchingQuery?n("img",{staticClass:"spinner",attrs:{src:r(219)}}):e._e(),e._v(" "),e.results&&0===e.results.length?n("div",[e._v("No results. Tweak that query...")]):e._e(),e._v(" "),e.results?n("transition",{attrs:{name:"component-fade",mode:"out-in"}},["tiles"===e.options.ui?[n("transition-group",{attrs:{name:"list",tag:"div"}},e._l(e.results,function(t){return n("ItemTile",{key:t.url,attrs:{options:e.options,item:t}})}),1)]:e._e(),e._v(" "),"cards"===e.options.ui?n("QueryCards",{attrs:{results:e.results,options:e.options}}):e._e(),e._v(" "),"hugecards"===e.options.ui?n("QueryHugeCards",{attrs:{results:e.results,options:e.options}}):e._e(),e._v(" "),"slideshow"===e.options.ui?n("QuerySlideshow",{attrs:{results:e.results,options:e.options},on:{"close-slideshow":e.closeSlideshow}}):e._e(),e._v(" "),"table"===e.options.ui?n("QueryTable",{attrs:{results:e.results,options:e.options}}):e._e()],2):e._e(),e._v(" "),e.results?e._e():n("div",{staticClass:"big-list"})],1)],1)},[],!1,null,null,null));t.default=ue.exports}}]);